---
layout: hs_news
title: ! 'Hello, Arduino: Write Code That Interacts with the Real World'
tags:
- News
- News Article
status: publish
type: hs_news
published: true
meta:
  _edit_last: '46'
  article_date: May 2013
  article_author: Sharon Cichelli, Headspring Senior Consultant
  article_title: ! 'Hello, Arduino: Write Code That Interacts with the Real World'
  _thumbnail_id: '6643'
---
Take the first step in raising your robot army and meet the Arduino, the microcontroller designed to be approachable and fun. From blinky lights to motors, temperature sensors to wi-fi, RFID to MIDI, you can make your code <em>do stuff</em>.

Learn to look at projects in terms of outputs and inputs as this article walks you through the code and electronics to blink an LED and react to a pushbutton. You'll also see how simple it is to control a servo motor.

Your experience as a developer will apply directly to the Arduino, which uses a language that extends C++. You'll also need to learn about electronics, and the Arduino makes a great platform for doing so. I'll introduce the basics here, to start your journey.

<strong>Your First Output: Blink an LED</strong>

[caption id="attachment_6654" align="alignright" width="460"]<img src="http://headspring.staging.wpengine.com/wp-content/uploads/2013/05/arduino-fig1.jpg" alt="Figure 1: Design your Arduino projects in terms of inputs and outputs." width="460" height="161" class="size-full wp-image-6654" /> <strong>Figure 1:</strong> Design your Arduino projects in terms of inputs and outputs.[/caption]Making an LED (light-emitting diode) blink is the “hello, world” of electronics. You can think of your Arduino projects as inputs (buttons and sensors that feed facts about the world into your code), outputs (lights, buzzers, and motors that manifest your code’s intent), and your code running on the Arduino microcontroller as the conductor between them. See <strong>Figure 1</strong> for an illustration. With that perspective, let’s start by controlling your first output.

<strong><em>Components You’ll Need</em></strong>
<ul>
	<li>Arduino</li>
	<li>USB cable</li>
	<li>Computer running the Arduino IDE</li>
	<li>LED</li>
</ul>

<strong><em>Connect the LED</em></strong>

[caption id="attachment_6655" align="alignright" width="460"]<img src="http://headspring.staging.wpengine.com/wp-content/uploads/2013/05/arduino-fig2.jpg" alt="Figure 2: Plug the short lead of the LED into the GND pin header and the long lead into pin 13." width="460" height="444" class="size-full wp-image-6655" /> <strong>Figure 2:</strong> Plug the short lead of the LED into the GND pin header and the long lead into pin 13.[/caption]You connect components to your Arduino via the pin headers running down both sides of it. Small text printed on the green circuit board labels the pins; use that to find the pin headers for pin 13 and the GND (ground) pin. See <strong>Figure 2</strong>.

An LED has two wires, called leads, and by convention they are different lengths. Plug the shorter lead (called the cathode) into the GND pin header and the longer lead (the anode) into the 13 pin header. If you get it backwards, the LED simply won’t light, but it’s otherwise harmless. If your LED is not lighting up when you get to the final step of testing your project, try flipping it around.

<strong><em>Write the Code</em></strong>

Arduino programs are called sketches. Every sketch must contain a <strong>setup()</strong> function and a <strong>loop()</strong> function. For reuse and readability, you can extract your logic into additional functions, but you have to have at least those two.

The <strong>setup()</strong> function runs once, when your sketch starts, and the <strong>loop()</strong> function runs continuously, like the event loop in a game.

[caption id="attachment_6656" align="alignright" width="460"]<img src="http://headspring.staging.wpengine.com/wp-content/uploads/2013/05/arduino-fig3.jpg" alt="Figure 3: The Arduino IDE makes it simple to compile your sketch and upload it to the microcontroller." width="460" height="651" class="size-full wp-image-6656" /> <strong>Figure 3:</strong> The Arduino IDE makes it simple to compile your sketch and upload it to the microcontroller.[/caption]This sketch blinks the LED in a syncopated rhythm. Enter the code into the Arduino IDE, shown in <strong>Figure 3</strong>. I’ll discuss the sketch line by line.

#define led 13

void setup() {                
  pinMode(led, OUTPUT);     
}

void loop() {
  digitalWrite(led, HIGH);
  delay(700);
  digitalWrite(led, LOW);
  delay(300);
}

The first line in our blinky LED sketch is a precompiler directive to define the text “led” as a stand-in for “13”, to make the code easier to read by giving the pin a meaningful name, and easier to change if you decide to use a different pin.

The <strong>setup()</strong> function calls the Arduino’s <strong>pinMode()</strong> function to establish pin 13 as an output pin, meaning the sketch writes instructions out to that pin. Later, when you add a pushbutton to the project, you’ll set up the button’s pin as an input, a pin from which yopu’ll read information. For an explanation of what the Arduino does electrically when you call <strong>pinMode()</strong>, see <a href="http://arduino.cc/en/Tutorial/DigitalPins" target="_blank">http://arduino.cc/en/Tutorial/DigitalPins</a>.

Inside the <strong>loop()</strong> function, the sketch turns the LED on, pauses the thread, turns the LED off, and pauses again. The Arduino calls this function repeatedly, for as long as it has power. The <strong>digitalWrite()</strong> function takes two arguments: the pin to control, and the signal to send. As you might imagine, the Arduino also supports a <strong>digitalRead()</strong> function, which you’ll use later when you read the state of a button, and <strong>analogWrite()</strong> and <strong>analogRead()</strong> functions, for values that are from a range instead of binary.

Lastly, the <strong>delay()</strong> function causes the program’s execution to wait for the specified number of milliseconds. Without the delay, you wouldn’t see the LED blink, because it would switch on and off faster than you could perceive.

<strong><em>Upload the Sketch</em></strong>

I used to think getting code onto a microcontroller was too daunting to attempt-something those hardware people do. The Arduino makes this delightfully simple.

Use a USB cable to connect the Arduino to your computer, as in <strong>Figure 4</strong>, and click the Upload button in the Arduino IDE. The Getting Started guide at <a href="http://arduino.cc/en/Guide/HomePage" target="_blank">http://arduino.cc/en/Guide/HomePage</a> provides operating-system-specific instructions for selecting the right port and uploading your sketch.

The chip on an Arduino comes preinstalled with a bootloader program. When the board gets power (such as via your computer’s USB port), the bootloader listens for new instructions coming over the wire. If it receives a new sketch, it stores that and starts it; if not, it runs the last sketch it stored.

<strong><em>Expected Results</em></strong>

Here are the steps you just completed.

<ul>
	<li>You plugged an electronics component into the pin headers on your Arduino board; in this case, an LED serves as the output for your sketch.</li>
	<li>You wrote a sketch in the Arduino IDE to tell the microcontroller how to control the LED.</li>
	<li>You uploaded the sketch to your Arduino via USB, and that USB cable is now supplying power to the Arduino.</li>
</ul>

You should see the LED blinking, on for 700 milliseconds then off for 300 milliseconds. Experiment with making additional calls to <strong>digitalWrite()</strong> and changing the <strong>delay()</strong> durations.

Now that your sketch is stored on the Arduino, you could unplug the USB cable and power the board via a 9-volt battery instead.

<a href="http://www.code-magazine.com/Article.aspx?quickid=1305081" target="_blank">Originally featured in Code Magazine</a>
