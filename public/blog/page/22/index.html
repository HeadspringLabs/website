
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>Headspring Labs</title>
	<meta name="author" content="Headspring Labs">

	
	<meta name="description" content="Confession time: I might not be perfect. Thankfully, though, that&#8217;s irrelevant.
I&#8217;ve coded myself into a bit of a corner, and it&#8217;s &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="Headspring Labs" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script async="true" src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	
</head>


<body>
	<header id="header" class="inner"><h1><a href="/">Headspring Labs</a></h1>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
	<li><a href="/open-source">Open Source</a></li>
	<li><a href="/team">The Team</a></li>
	<li><a href="/about-us">About Us</a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="http://google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:headspringlabs.com">
			</form>
		</div>
	</div>
</nav>
<nav id="sub-nav" class="alignright">
	<div class="social">
		
		
		
		<a class="twitter" href="http://twitter.com/HeadspringLabs" title="Twitter">Twitter</a>
		
		
		<a class="github" href="https://github.com/HeadspringLabs" title="GitHub">GitHub</a>
		
	    
		
		<a class="coderwall" href="https://coderwall.com/team/headspring" title="Coderwall">Coderwall</a>
		
		
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
	    
	</div>
	<form class="search" action="http://google.com/search" method="get">
		<input class="alignright" type="text" name="q" results="0">
		<input type="hidden" name="q" value="site:headspringlabs.com">
	</form>
</nav>
<nav id="main-nav"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
	<li><a href="/open-source">Open Source</a></li>
	<li><a href="/team">The Team</a></li>
	<li><a href="/about-us">About Us</a></li>
</ul>
</nav>

</header>
	
		
<div id="banner" class="inner">
	<div class="container">
		<ul class="feed"></ul>
	</div>
	<small><a href="http://twitter.com/HeadspringLabs">HeadspringLabs</a> @ <a href="http://twitter.com">Twitter</a></small>
	<div class="loading">Loading...</div>
</div>
<script src="/javascripts/twitter.js"></script>
<script type="text/javascript">
	(function($){
		$('#banner').getTwitterFeed('HeadspringLabs', 5, );
	})(jQuery);
</script>

	
	<div id="content" class="inner">


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/essential-vs-incidental-complexity/">
		
			Essential vs Incidental Complexity</a>
	</h2>
	<div class="entry-content">
		<p>Confession time: I might not be perfect.  Thankfully, though, that&#8217;s irrelevant.</p>
<p>I&#8217;ve coded myself into a bit of a corner, and it&#8217;s all my fault, but as I said above my imperfection is irrelevant.  What&#8217;s relevant is that when one is faced with a software project that&#8217;s heading in the wrong direction, the problems can always be identified and addressed.  <strong>Code is just too malleable to be intractable.</strong>  Realizing you have a coding problem is the first step to recovery.</p>
<h2>What Success Feels Like</h2>
<p>Last week, I wrote about some lessons learned from a <a href="http://www.headspring.com/blog/developer-deep-dive/meta-yak-shaving/">yak shaving</a> project that I&#8217;ve been working on for the last year.  As that yak is now sufficiently sheared, I&#8217;ve shifted gears back to my <em>real</em> pet project, a compiler for the language summarized <a href="http://www.headspring.com/blog/developer-deep-dive/building-a-language/">here</a>.</p>
<p>While working on Parsley, adding each new feature actually became <em>easier</em> over time.  I had <del>found</del> <del>planned</del> <em>stumbled into</em> the proper abstractions for the task at hand, and it was always clear what I should do next in order to move the project forward while leaving the campground cleaner than I found it.  </p>
<h2>Suspicious Difficulties</h2>
<p>With Rook, I&#8217;m finding lately that adding each new feature is getting <em>harder</em>.  Quite so, actually.  Each new feature is interacting very tightly with those already implemented, and they&#8217;re starting to interfere with forward progress.  I may be an hour into implementing a feature, even a simple one like adding support for comment syntax, before realizing that my attempt needs to be reverted.  Adding <a href="https://github.com/plioi/rook/commit/3a5ff34c9a8423c21608f3c876d4212eb0f9cddf">basic support for type checking of method calls</a> was the product of about 1 month and N+1 false starts, and includes more unfortunate compromises than I would usually allow myself.</p>
<p><strong>Difficulty in adding new features is a tell-tale sign that I&#8217;ve got the wrong abstractions in place.</strong>  Odd, though, since the problem I&#8217;m working on is the poster child for Solved Problems.  There&#8217;s a great deal of prior art I&#8217;m building on, here, so I&#8217;m confident that the overall design is actually still right.  The abstractions that I would fit into an elevator pitch are not the problem.  Probably.</p>
<h2>Is There Hope? (Spoiler Alert: Yes)</h2>
<p>The question is, am I having difficulty due to <strong>essential complexity</strong> or <strong>incidental complexity</strong>?  Is the complexity inherent in the problem being solved (essential) or is it a byproduct of poor implementation details (incidental)?</p>
<p>I&#8217;m leaning towards incidental.  I&#8217;m not exactly breaking RSA encryption here; that&#8217;s a job for quirky characters on procedural crime shows.  Since my difficulties are likely not just a matter of the problem being tough, it&#8217;s a sign that these recent hurdles are really telling me something.</p>
<p>To sum up the situtation,<br />
1. I have reason to believe the complexity I&#8217;m experiencing is not essential to the problem.  Rather, it&#8217;s in my control.<br />
2. My <em>key</em> abstractions are probably right, as they&#8217;re the same used by Every Single Compiler Ever Made.<br />
3. The increasing difficulty to add new features suggests that I <em>do</em> have poor abstractions somewhere.</p>
<p>This train of thought leads me to suspect the <em>other</em> abstractions, the ones I&#8217;ve been inventing myself along the way as I try to fill in the gaps of my own understanding of all that prior art.  This hunch is consistent with the last few hurdles I&#8217;ve run into.</p>
<p>This is great news!  Rather than dispair (&#8220;Oh woe is me, I done goofed!&#8221;), I have every reason to believe that the answers are now reachable.  I need to take a closer look at the abstractions I&#8217;ve invented along the way, the ones I&#8217;ve made with insufficient forethought regarding future prioritized features.  </p>
<p>I&#8217;ve focused too much time on sharpening my jigsaw&#8217;s blades, and not enough time on what the puzzle is actually supposed to look like when it&#8217;s done.  Lo and behond, I&#8217;ve forgotten to cut out the edge pieces.</p>
<p>Now that I know the difficulties are due to incidental complexity rather than essential complexity, I know I should slow down on adding new features while I address the problem abstractions.  Overall, my throughput will probably speed up.  I can start to work in earnest on phasing out this incidental complexity.  No &#8220;Grand Rewrite&#8221; for me!</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-07-13T00:00:00-05:00" pubdate data-updated="true">Jul 13<span>th</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/developer-deep-dive/'>Developer Deep Dive</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/meta-yak-shaving/">
		
			Meta-Yak Shaving</a>
	</h2>
	<div class="entry-content">
		<p><a href="http://joi.ito.com/weblog/2005/03/05/yak-shaving.html">Yak Shaving</a> is a term used to describe one of two situations: when you&#8217;re performing some seemingly-wasteful activity that ultimately helps you reach your actual goal, or when you fixate on a mostly-wasteful activity while procrastinating about your actual goal.</p>
<p>With software, this usually presents itself as spending <em>way</em> too much time refactoring without making meaningful forward progress.  Don&#8217;t get me wrong - refactoring should be a daily activity to ensure that you don&#8217;t get overwhelmed by mounting complexity, but when you&#8217;re refactoring perfectly-fine code again and again because it&#8217;s kinda fun to do so, you&#8217;re yak shaving.</p>
<p>On a project for which time and money are valuable to the interested parties, yak shaving is unacceptable.  However, I think that developers should feel free to do this on a side project for the sake of <em>practice</em>.  If I violently overthink a refactoring effort on a project that affects nobody else, then when I encounter a similar problem on a for-pay project I won&#8217;t <em>need</em> to waste time coming to the same conclusion.  &#8220;When I had infinite time and zero dollars on the line, I solved this problem like so.  So let&#8217;s just do that this time right away!&#8221;</p>
<h2>Code Metrics</h2>
<p>I place relatively little value on code metrics, especially when they are used to drive decisions.  For instance, if you&#8217;re deciding what to do with your day <em>purely</em> by inspecting a code coverage report, you are staring directly into the business end of an inverted horse cart.  Instead, good testing habits will give you high coverage anyway.  Better yet, high code coverage born from good habits will be <strong>meaningfully</strong>-high; it&#8217;s easy to make changes that <em>trick</em> a metric into looking better than it is, giving you a false sense of security.</p>
<p>The little value I do place on metrics comes when I want to take an occasional snapshot of a project, in case it can point out some useful patterns or trouble areas.  I did this for my <a href="https://github.com/plioi/parsley">yak shaving project</a> and found some interesting things about my own coding style.</p>
<h2>Lines of Code</h2>
<p>LOC counts are largely useless as a code metric, but comparing lines of library code versus lines of test code is interesting: Parsley has 585 lines of library code, and <em>847</em> of test code.  I was expecting a 50/50 split.  This project lends itself to having a lot of unit tests: it doesn&#8217;t go out-of-process for anything, and has no UI.  Still, this ratio is pretty darn high.  I&#8217;m glad I&#8217;ve put in the effort, though, for an unusually-high test/library ratio, as the problem being solved involves a great deal of potential edge cases and, more importantly, the problem being solved is nearly impossible to step through with a debugger.</p>
<p>Lesson learned: unit testing can help to mitigate the risks of using a hard-to-step-through design.</p>
<h2>Depth of Inheritance</h2>
<p>Most of the inheritance in this project is interface-based.  The largest example of implementation-inheritance is only 3 levels deep, and <a href="https://github.com/plioi/parsley/blob/2d113754b6e3e68a43e624987fb7ed5c4dd99870/src/Parsley/TokenKind.cs">the classes involved</a> have a very narrow focus.  This is an example of the Template Method pattern.  There&#8217;s the &#8216;real&#8217; class and then a few convenience subclasses that fill in a tiny bit of the work.</p>
<p>Lesson learned: with infinite yak shaving time, I avoid most implementation-inheritance.</p>
<h2>Conditional Logic</h2>
<p>Another surprise: the &#8216;else&#8217; keyword appears only 4 times in those 1432 lines.  Weird.  I certainly don&#8217;t consciously think of &#8216;else&#8217; as somehow <em>bad</em>.  The explanation comes in seeing how else conditional logic presents itself.</p>
<p>First, polymorphism hides some conditional logic, as it implies statements like &#8220;if the runtime type of x is T1 then call T1&#8217;s implementation, <strong>else</strong> if the runtime type of x is T2 then call T2&#8217;s implementation, <strong>else</strong>…&#8221;</p>
<p>Second, I find that I have several methods that take on the following form:</p>
<p><div><script src='https://gist.github.com/3066889.js'></script>
<noscript><pre><code></code></pre></noscript></div>
</p>
<p>In every way that matters, there&#8217;s an &#8216;else&#8217; in that code block.  It&#8217;s just implied.  I think my accidental aversion to &#8216;else&#8217; is really a consequence of two other things:</p>
<ol>
<li>My class methods are very short and make few decisions. They have cyclomatic complexity around 1.6, meaning each method makes about 1 decision before returning, giving little reason to require nested if statements.  Also, my methods tend to be very short, averaging 3 lines.  Most of my if statements therefore take the form &#8220;if (condition) return A; else return B;&#8221; in which &#8216;else&#8217; is superfluous.</li>
<li>ReSharper suggests removing &#8216;else&#8217; whenever it is superfluous.</li>
</ol>
<p>Lessons learned: with infinite yak shaving time, I a) perform extract-method refactorings until my methods are extremely short, with each method making about 1 decision; b) use interface-inheritance and Template Method to simplify the most complex logic; and c) discard as many characters as I can get away with, such as when ReSharper suggets removing &#8216;else&#8217;.</p>
<h2>Mutation</h2>
<p>This one isn&#8217;t a lesson learned because it&#8217;s always on my mind already, but when given infinite yak shaving time I avoid mutable state like the plague.  Most of my class fields are declared as readonly, and most of my auto-properties are declared as <code>{ get; private set;}</code> and only get set within the constructor, making them effectively readonly too.  Most of my local variables are given a value when they are declared and then never get overwritten.</p>
<p>I found about 10 mutable variables in this whole project, and they were all local to a method, so the state change wouldn&#8217;t have any affect on the complexity of the rest of the library.  My aversion to mutation leads me to write code in the functional-style for the most part, but when that <em>inevitably</em> gets awkward during an intensively bit-twiddling method, I know it&#8217;s time to escape into statements-and-mutation-mode.</p>
<p>The only interesting bit of mutation comes in the <a href="https://github.com/plioi/parsley/blob/2d113754b6e3e68a43e624987fb7ed5c4dd99870/src/Parsley/TokenStream.cs">TokenStream</a> class, which repeatedly mutates a <a href="http://www.headspring.com/blog/developer-deep-dive/public-private-super-private/">super-private</a> IEnumerator by calling its <code>MoveNext()</code> method.  Amusingly, this admittedly-complex class exists precisely so that you can traverse an IEnumerable in an apparently-mutation-free way.  My worst offender in the fight against mutable state exists in order to cover up some mutable state!</p>
<h2>Conclusion</h2>
<p>With infinite time and no budget, I write code in a particular style.  It drifts over the years as I gain experience, but certain trends are already apparent, and this experience influences my work on for-pay projects.  I recommend setting aside one project-of-no-consequence for a similar effort, so that you can also discover your own trends.  <strong>What do you find yourself doing, when you have the opportunity to write something that is truly to your liking?</strong></p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-07-07T00:00:00-05:00" pubdate data-updated="true">Jul 7<span>th</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/developer-deep-dive/'>Developer Deep Dive</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/saying-goodbye-to-spicewood-springs-road/">
		
			Saying Goodbye to Spicewood Springs Road</a>
	</h2>
	<div class="entry-content">
		<p>We&#8217;re moving offices tomorrow, which means today is packing day.  Although we&#8217;ll miss the awesome view, we&#8217;re looking forward to spreading out in our (giant) new home on Jollyville and Braker in the Avallon building.  Keep in touch, Dovetail folks!</p>
<p>I&#8217;ll be sure to post pictures of the new place once we move in.<br />
<object width="400" height="300" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0"><param name="flashvars" value="offsite=true&amp;lang=en-us&amp;page_show_url=%2Fphotos%2Fheadspring%2Fsets%2F72157630451128500%2Fshow%2F&amp;page_show_back_url=%2Fphotos%2Fheadspring%2Fsets%2F72157630451128500%2F&amp;set_id=72157630451128500&amp;jump_to=" /><param name="allowFullScreen" value="true" /><param name="src" value="http://www.flickr.com/apps/slideshow/show.swf?v=109615" /><param name="allowfullscreen" value="true" /><embed width="400" height="300" type="application/x-shockwave-flash" src="http://www.flickr.com/apps/slideshow/show.swf?v=109615" flashvars="offsite=true&amp;lang=en-us&amp;page_show_url=%2Fphotos%2Fheadspring%2Fsets%2F72157630451128500%2Fshow%2F&amp;page_show_back_url=%2Fphotos%2Fheadspring%2Fsets%2F72157630451128500%2F&amp;set_id=72157630451128500&amp;jump_to=" allowFullScreen="true" allowfullscreen="true" /></object></p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-07-06T00:00:00-05:00" pubdate data-updated="true">Jul 6<span>th</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/blog/'>Blog</a>, <a class='category' href='/blog/categories/bonus/'>Bonus!</a>, <a class='category' href='/blog/categories/small-talk-and-big-news/'>Small Talk &amp; Big News</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/get-to-know-a-developer-michael-nero/">
		
			Get to Know a Developer: Michael Nero</a>
	</h2>
	<div class="entry-content">
		<p><img class="alignright size-medium wp-image-5648" title="Michael Nero" src="http://www.headspring.com/wp-content/uploads/2012/06/photo-224x300.jpg" alt="Michael Nero" width="224" height="300" />This week, we welcomed a new Senior Consultant, Michael Nero.  He’s a multiple time resident of Austin, most recently moving back about a year ago for a consulting position at ProAce.  Before that, it was a year-long stint working on a Foreign Exchange product called Velocity at Infusion Development in New York City….</p>
<p>…New York City?! (Now, commence Pace Picante commercial re-enactment)…</p>
<p>And before all that, several years of bouncing between Beaumont and Austin for various school and work opportunities.</p>
<p>Anyway, we had a great time talking about living in New York, dirty subways, and you know, some work stuff. Here’s the rest:</p>
<p><strong>Are you an expert at anything?</strong></p>
<p>I’m a good C# developer, and I know quite a lot about the .NET Framework, most specifically threading.  I’ll stop short of calling myself an expert at anything though, just so I don’t preclude the possibility that I may learn something new.</p>
<p><strong>Who is on your list of ideal clients to work for or individuals to work with?</strong></p>
<p>I’m unreservedly dedicated to clients I can help the most and who’s work benefits someone other than themselves.</p>
<p><strong>What led you to software development?</strong></p>
<p>It was by accident, really.  When I was younger, I really wanted to be a Microsoft Technical Support Representative, which I thought was the highest echelon of achievement – we’re all young once.  Having thwarted my mother’s attempts to make me a C++ programmer when I was freshman in high school (my version of teenage rebellion), I finally gave in to her ever present delicate pressure to pursue an Electrical Engineering degree at university.  Part of the curriculum for an EE major was a few CS classes, and in my first CS class, I learned that hey, I was pretty good at writing code.  So, I stuck with it.</p>
<p><strong>What did you learn first?</strong></p>
<p>My university’s curriculum taught Managed C++ for the first year, then we moved to Java for the second year, then we were free to use whatever language we liked best after that.</p>
<p><strong>Do you like teaching?</strong></p>
<p>I like it when people get excited, and people are always excited about learning something new.</p>
<p><strong>What does your team rely on you for?</strong></p>
<p>My positive and no-challenge-is-too-great attitude, I hope.  My teams have always been brimming with super smart people, and alone, there’s nothing to stop any one of them.  But together, we can create something truly beautiful.  So, I guess I’m a good cheerleader.</p>
<p>&nbsp;</p>
<p>For more info on Michael, contact him on twitter: <a href="https://twitter.com/neroware" target="_blank">@neroware</a></p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-06-29T00:00:00-05:00" pubdate data-updated="true">Jun 29<span>th</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/bonus/'>Bonus!</a>, <a class='category' href='/blog/categories/developer-deep-dive/'>Developer Deep Dive</a>, <a class='category' href='/blog/categories/get-to-know-a-headspringer/'>Get To Know a Headspringer</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/bowling-night/">
		
			Bowling Night</a>
	</h2>
	<div class="entry-content">
		<p>Summer is here and the livin&#8217; is&#8230;hot!  And busy!  New projects, family vacations, conferences (and sleep) have kept our plates so full that I almost forgot to update the blog! Never fear; pictures are here.</p>
<p>Recently, we were selected for the highly coveted 4<a href="http://www.headspring.com/news/headspring-named-one-of-top-5-best-places-to-work-in-austin/" target="_blank">th place ranking</a> on the ABJ&#8217;s Best Places to Work in Central Texas list.  In celebration, the team managed to wrangle their families together for bowling night at the Main Event.  Our company bowling team, the Headspring Hurwitzes, attempted to show off their skills, but they were no match for the kids. Those of us that knew better than to compete, delighted in the endless supply of nachos. We had a blast!</p>
<p>Check out the photos:</p>
<p><object width="600" height="400" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0"><param name="src" value="https://picasaweb.google.com/s/c/bin/slideshow.swf" /><param name="flashvars" value="host=picasaweb.google.com&amp;hl=en_US&amp;feat=flashalbum&amp;RGB=0x000000&amp;feed=https%3A%2F%2Fpicasaweb.google.com%2Fdata%2Ffeed%2Fapi%2Fuser%2F116995917277898038900%2Falbumid%2F5756332069269080945%3Falt%3Drss%26kind%3Dphoto%26hl%3Den_US" /><param name="pluginspage" value="http://www.macromedia.com/go/getflashplayer" /><embed width="600" height="400" type="application/x-shockwave-flash" src="https://picasaweb.google.com/s/c/bin/slideshow.swf" flashvars="host=picasaweb.google.com&amp;hl=en_US&amp;feat=flashalbum&amp;RGB=0x000000&amp;feed=https%3A%2F%2Fpicasaweb.google.com%2Fdata%2Ffeed%2Fapi%2Fuser%2F116995917277898038900%2Falbumid%2F5756332069269080945%3Falt%3Drss%26kind%3Dphoto%26hl%3Den_US" pluginspage="http://www.macromedia.com/go/getflashplayer" /></object></p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-06-27T00:00:00-05:00" pubdate data-updated="true">Jun 27<span>th</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/bonus/'>Bonus!</a>, <a class='category' href='/blog/categories/small-talk-and-big-news/'>Small Talk &amp; Big News</a>


</div>
	
</div>
</article>

<nav id="pagenavi">
    
        <a href="/blog/page/21/" class="prev">Prev</a>
    
    
        <a href="/blog/page/23/" class="next">Next</a>
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav></div>
	<footer id="footer" class="inner">Copyright &copy; 2013

    Headspring Labs

</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->






</body>
</html>