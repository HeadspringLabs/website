
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Headspring Labs</title>
  <meta name="author" content="Headspring Labs">

  
  <meta name="description" content="Software management company provides additional options for customers.
&nbsp;
AUSTIN, TX – (January 24, 2013) – Headspring, a leading custom software &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://headspringlabs.com/blog/page/5">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Headspring Labs" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Headspring Labs</a></h1>
  
    <h2>Experiments by Headspringers!</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:headspringlabs.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/headspring-forms-strategic-alliance-with-clear-measure-in-support-of-new-business-enterprise/">Headspring Forms Strategic Alliance With Clear Measure in Support of New Business Enterprise</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-01-24T00:00:00-06:00" pubdate data-updated="true">Jan 24<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3><em style="font-size: 1.17em;">Software management company provides additional options for customers.</em></h3>
<p>&nbsp;</p>
<p><b>AUSTIN, TX – (January 24, 2013) – </b>Headspring, a leading custom software development company, today announced a strategic alliance with Clear Measure, a software management solutions company recently founded by Headspring’s former president and COO, Jeffrey Palermo. Clear Measure complements Headspring’s existing services by providing software management consulting and professional services. The alliance allows Headspring to add another option to its robust package of services for its customers.</p>
<p>Headspring has experienced rapid growth increasing revenues by more than 50 percent year over year, and in 2011 Headspring experienced a 162 percent increase in the number of clients the company served through the software development and software consulting projects. In 2012, the company added 12 new employees and plans to continue expanding opening an office in Houston, Texas in January 2013.</p>
<p>“We are committed to the continual growth and improvement of our business and our team,” said Dustin Wells, CEO of Headspring.  “This alliance exemplifies our belief that supporting our team’s growth and entrepreneurial instincts turns into exciting new opportunities. We are thrilled to support Jeffrey in this new venture.”</p>
<p>Headspring will provide Clear Measure access to expert software engineering services by developers who are recognized leaders in the industry and Clear Measure will provide management consulting and project management services such as systems assessments, data monitoring, and continual auditing.</p>
<p>“I’m thankful to be able to continue a long and fruitful relationship with Headspring,” said Jeffrey Palermo, Managing Partner &amp; CEO of Clear Measure.  “Companies rely on software for a competitive advantage. Our goal is to provide the clarity, measurement, and control that companies need to get the most of their software investments, while partnering with a company we know has the expertise to deliver forward thinking and beneficial long-term software solutions.”</p>
<p>Until recently, Jeffrey Palermo was the president and COO of Headspring.  He was instrumental in helping build Headspring’s team of talented developers and the alliance between the two companies leverages the capabilities of both to serve the growing software needs of companies.</p>
<p><b>About Clear Measure                                                                                                          </b></p>
<p>Clear Measure provides professional services and consulting that enable the clarity, measurement, and control businesses need to get the most from their software investments. Using a proven methodology, Clear Measure equips senior software executives and managers with the tools and knowledge to maximize ROI and reduce risk. For more information, go to <a href="http://www.clear-measure.com">www.clear-measure.com</a> or call 512-298-1232</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/no-offshoring/">No Offshoring</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-01-17T00:00:00-06:00" pubdate data-updated="true">Jan 17<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>One of Headspring&#8217;s principle practices - which is probably not advertised nearly to the extent it should be - is that we never outsource development work. The policy was put in place early in our company history. This was right around the time we steered away from building websites for new companies and began focusing our services on delivering custom enterprise software. Sometimes it made sense to outsource, and could be more cost effective for our customers. But more often than not, it became difficult to see around corners and ensure that we were receiving quality built code.</p>
<p>We discovered the best way to create or reconstruct our clients&#8217; software is to hire the best architects, critical thinkers and code masters we could get our hands on, put them in a room together, and give them the resources they need to do great work. We refer to this collaboration as a &#8220;brain trust&#8221;. And working this way has directly affected our ability to be so successful.</p>
<h2>Looks Can Be Deceiving</h2>
<p>This morning I woke up to <a href="http://www.npr.org/blogs/thetwo-way/2013/01/16/169528579/outsourced-employee-sends-own-job-to-china-surfs-web" target="_blank">a national news story</a> about a company entrusting critical development work to a pricey developer - only to find its deluxe development package was being outsourced to a Chinese team for 1/5 of their cost.</p>
<p>The story is quite funny, actually.  The company discovered data that showed its virtual network being accessed from China. The company feared hackers had invaded the network, so they ordered an investigation from Verizon&#8217;s web security team. The VPN logs showed the originally contracted developer, while still sitting at his desk, was also accessing the network from a city in China.</p>
<p>Now, it was understood in the office that this contract developer (<a href="http://webcache.googleusercontent.com/search?q=cache:http://securityblog.verizonbusiness.com/2013/01/14/case-study-pro-active-log-review-might-be-a-good-idea/" target="_blank">the original story published on Verizon&#8217;s blog refers to him as &#8220;Bob&#8221;</a>) did great work. In fact, he was regarded as the best developer in the office, and was paid accordingly - six figures, in fact.  But after a deeper investigation, the Verizon team discovered hundreds of .pdf files detailing Bob&#8217;s communication with the outsourced firm he worked with in Shenyang China. He subcontracted the firm for 1/5 of his pay.</p>
<p>So what did Bob do while his sub-contract was hard at work? Here&#8217;s his busy schedule:</p>
<p>9:00 AM - Arrive at the office, surf Reddit.com, watch cat videos</p>
<p>11:30 AM - Take lunch</p>
<p>1:00 PM - Ebay time!</p>
<p>2:00 - ish PM - Facebook and LinkedIn updates</p>
<p>4:30 PM - End of day email to management</p>
<p>5:00 PM - Go home</p>
<h2>Who Do You Love?</h2>
<p>As it turns out, this wasn&#8217;t Bob&#8217;s first rodeo, and he didn&#8217;t invent the wheel either. Sure, he <em>delivered</em> great code, so what&#8217;s the big issue in the end? It comes down to trust.</p>
<p>We hear the same stories all the time from our prospective clients - except not usually with the same storybook &#8220;no harm done&#8221; ending that Verizon outlines in their comical case study. Nope. Usually companies aren&#8217;t aware of the security breach until there is a big problem.</p>
<p>So do yourself a favor: make absolute sure you are working with a company/contractor/development team that cares about your security and code as much as you do.</p>
<p>&nbsp;</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/whittling-xunit/">Whittling xUnit</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-01-15T00:00:00-06:00" pubdate data-updated="true">Jan 15<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Last week, we saw how <a href="http://www.headspring.com/patrick/code-whittling/">Code Whittling</a> lets you learn about an unfamiliar open-source project, using <a href="http://www.headspring.com/patrick/whittling-rhino-licensing/">Rhino Licensing</a> as an example.  This week, we&#8217;ll walk through the process I took when whittling xUnit.  xUnit is a unit testing framework similar to NUnit.  I wanted to get a feel for how a test framework really works: how it traverses your test project to discover test cases, how it executes individual test cases, how it tallies results, and how it integrates with the TestDriven.net plugin for Visual Studio.</p>
<h2>The Whittle</h2>
<p>I started by grabbing a copy of the <a href="http://xunit.codeplex.com/SourceControl/BrowseLatest">xUnit source code on CodePlex</a>.</p>
<p>Not surprisingly, this project has a lot of test coverage.  Since code whittling is decidedly <em>not</em> about safe forward development, and since unit tests pose an obstacle to quickly whittling a project down to its essentials, the first thing I removed were all the unit tests.  It&#8217;s OK, we&#8217;re not going to make any permanent changes.  This is an exercise in quick discovery, not slow-and-steady accuracy.</p>
<p>I tend to use a console test runner and a TestDriven.Net test runner, but none of the other runners.  My next victims were the projects for the runners I don&#8217;t happen to use: xunit.gui, xunit.runner.visualstudio, and xunit.runner.msbuild.</p>
<p>Since I use the <a href="http://nuget.org/packages/Should">Should</a> assertion library, I had no need for any of xUnit&#8217;s own assertion code, allowing me to remove a huge chunk of code I had no interest in.  I deleted the <a href="http://xunit.codeplex.com/SourceControl/changeset/view/2e806844c3c1#src/xunit/Assert.cs">Assert</a> class, its usages, and the many associated exception classes.</p>
<p>I generally don&#8217;t use the [Theory] attribute in my xUnit tests, so I removed that and its usages next.  Lots of support classes for [Theory] were no longer in my way.</p>
<p>I&#8217;m more interested in how results are tallied and output to the console, and less interested in any XSLT reporting of those results, so I removed all the XSLT-dependent code.</p>
<p>Then I removed a long series of features I rarely or never use: IUseFixture, skipped tests, [AutoRollback], [AssumeIdentity], [FreezeClock], [Trace], &#8230;</p>
<p><strong>Eventually, I goofed up.</strong>  It turns out there is more multithreading code and more dynamic construction (in which a string containing the name of a class is used to instantiate that class) in xUnit than I expected.  I actually expected little or no threading/dynamic stuff, but I ended up removing too much in one step, losing something fundamental in the code path between Main() and actual invocation of a test.</p>
<blockquote><p>Lesson learned: Even when creating a throwaway clone of a project, just so I can violently destroy it, commit frequently with useful comments.  If you remove too much, you can see where you went wrong and rewind.</p></blockquote>
<p>I found that I couldn&#8217;t whittle this down quite as far as I did with Rhino Licensing.  Even with the less-used features taken out, what I was left with involved a lot of classes deferring to classes which defer to classes which defer to static helper methods.  I could have taken the time to refactor this away and boil it all down to the fundamental logic I was searching for, but I was starting to get comfortable with the class naming conventions and could find my way through it clearly enough.</p>
<p>I got a good, though incomplete, understanding of xUnit, and going back to the original code is no longer the daunting task it was before.</p>
<h2>Results</h2>
<p>Test execution is broken down into two phases.</p>
<p>For <strong>Phase 1</strong>, it builds up a tree of objects representing the test methods in the test assemblies: a TestAssembly has TestClass objects, each of which has TestMethod objects.  These are discovered and constructed via reflection.  The class EnumerateTests uses reflection to discover all the types in a given Assembly, and ultimately defers to TypeUtility.GetTestMethods(&#8230;):</p>
<p>[gist id=4438396]</p>
<p>Plain old reflection walks through all the methods in the test assembly, picking out the ones that are marked as tests with the [Fact] attribute.</p>
<p>For <strong>Phase 2</strong>, it traverses the tree of tests to execute them and accumulate results.  <a href="http://xunit.codeplex.com/SourceControl/changeset/view/2e806844c3c1#src/xunit/Sdk/Commands/ClassCommands/TestClassCommandRunner.cs">TestClassCommandRunner</a> has the main execution logic.  For a given class, it processes the list of method in random order.  For each method, xUnit gets one or more ITestCommands to execute.  Each test command is invoked, giving a MethodResult which gets included in the overall ClassResult.</p>
<p>A single test command to execute, for a test identified with the [Fact] attribute, looks like this:</p>
<p>[gist id=4438431]</p>
<p>A single test is executed here via Invoke(&#8230;), which is also a part of .NET reflection.  xUnit is just asking the .NET framework to call our test method for us.  Any exceptions bubble up and cause the test to fail, including exceptions thrown by Assert methods.  If no exceptions were thrown, it returns the new PassedResult representing success.  Results are hierarchical, just like the original tree of tests: AssemblyResult, ClassResult, FailedResult, and PassedResult allow us to track results at every level that a test runner may need to report on.</p>
<p><strong>Lastly, TestDriven.NET integration:</strong> TestDriven.NET requires you to implement the following interface.  Depending on how the user invokes TD.Net, one of these three methods will be called:</p>
<p>[gist id=4438582]</p>
<p>xUnit&#8217;s TdNetRunner implements this by ultimately deferring to the same test execution code that the console runner uses.</p>
<p>I was a little surprised by the size of the project, especially the use of multithreading.  A large number of features added up to a lot of things for me to remove before I could really see the fundamental code path.  This makes me curious about how NUnit compares, so next week we&#8217;ll see what we can learn by whittling down NUnit.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/get-to-know-a-developer-jose-basilio/">Get to Know a Developer: Jose Basilio</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-01-11T00:00:00-06:00" pubdate data-updated="true">Jan 11<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img class="alignright size-medium wp-image-6321" alt="Jose Basilio" src="http://www.headspring.com/wp-content/uploads/2013/01/photo-2-e1357940416657-224x300.jpg" width="224" height="300" />This week we welcomed Jose Basilio to the team! Jose currently lives in Houston, but he’s originally from the Dominican Republic. I was so excited to speak with him because he told me that participating in <a href="http://www.headspring.com/mary/headspring-hosts-central-texas-givecamp-to-benefit-10-local-non-profits/" target="_blank">CTX GiveCamp</a> (one of my projects last year) convinced him to look into working for us full time. In fact, Jose was on the TX Kidney Foundation team, which won CTX GiveCamp’s highest honor: the “Meg Ryan Facelift Award for Coolest UI”. I knew he was a winner. Here’s the rest of our conversation:</p>
<p></div>
  
  
    <footer>
      <a rel="full-article" href="/blog/get-to-know-a-developer-jose-basilio/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/whittling-rhino-licensing/">Whittling Rhino Licensing</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-01-08T00:00:00-06:00" pubdate data-updated="true">Jan 8<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Last week, I introduced a learning exercise called <a href="http://www.headspring.com/patrick/code-whittling/">Code Whittling</a>.  This week, we&#8217;ll walk through the process I took when whittling <a href="http://www.hibernatingrhinos.com/oss/rhino-licensing">Rhino Licensing</a>.</p>
<p>Rhino Licensing makes it easy for your application to enforce licenses.  If you&#8217;re making a application that needs to check which features the user has paid for, whether a trial has expired, etc, this is about as easy as it gets.  I recently needed to do this for a client, and James Gregory&#8217;s <a href="http://www.jagregory.com/writings/rhino-licensing/">Rhino Licensing tutorial</a> covers exactly the use case I cared about.  The tool, however, handles more than that use case.  I wanted to know how the basic idea worked, how a human-readable XML file could be tamper-proof, but I didn&#8217;t care about the other supported use cases.</p>
<h2>The Whittle</h2>
<p>I started by grabbing a copy of the <a href="https://github.com/hibernating-rhinos/rhino-licensing">Rhino Licensing source</a>.</p>
<p>GUI tools in support of a library don&#8217;t usually catch my interest.  Rhino.Licensing.AdminTool was a UI tool I didn&#8217;t need to work with for my use case, so it was the first to go.</p>
<p>Rhino Licensing can use trusted time servers like time.nist.gov when deciding whether a license&#8217;s expiration date has been reached, since malicious users might subvert expiration dates by changing their local system clock to some future date.  This feature is important, but was irrelevant to me in the short term: I wanted to know how the license files themselves work, and cared less about the details of reliable timekeeping.  I removed the class <a href="https://github.com/hibernating-rhinos/rhino-licensing/blob/4d77e00bfa85e8d22f966b09e340be31476afac1/Rhino.Licensing/SntpClient.cs">SntpClient</a>, the array of trusted servers within <a href="https://github.com/hibernating-rhinos/rhino-licensing/blob/4d77e00bfa85e8d22f966b09e340be31476afac1/Rhino.Licensing/AbstractLicenseValidator.cs">AbstractLicenseValidator</a>, and everything that depended on them.</p>
<p>There are several exception types declared, which is useful for communicating why a license might fail validation, but they didn&#8217;t help me in my quest to find out how the license files could be tamper-proof, so I phased them out in favor of generic Exception instances.  Likewise, logging is important, but it was just noise for my purposes, so I removed it.</p>
<p>The <a href="https://github.com/hibernating-rhinos/rhino-licensing/blob/4d77e00bfa85e8d22f966b09e340be31476afac1/Rhino.Licensing/LicenseType.cs">LicenseType</a> enum lists several kinds of licenses I was uninterested in.  I removed the ones I wasn&#8217;t interested in along with their usages.</p>
<p>Rhino Licensing has a server-side component, I believe to coordinate the sharing of license files across multiple machines.  Although interesting, this doesn&#8217;t have to do with the tamper-proofing of license file content, so I removed: LicensingService, ISubscriptionLicensingService, ILicensingService, DiscoveryHost, DiscoveryClient, and anything that depended on them.</p>
<p><a href="https://github.com/hibernating-rhinos/rhino-licensing/blob/4d77e00bfa85e8d22f966b09e340be31476afac1/Rhino.Licensing/AbstractLicenseValidator.cs">AbstractLicenseValidator</a> has two child classes: <a href="https://github.com/hibernating-rhinos/rhino-licensing/blob/4d77e00bfa85e8d22f966b09e340be31476afac1/Rhino.Licensing/LicenseValidator.cs">LicenseValidator</a> for processing a license XML file, and <a href="https://github.com/hibernating-rhinos/rhino-licensing/blob/4d77e00bfa85e8d22f966b09e340be31476afac1/Rhino.Licensing/StringLicenseValidator.cs">StringLicenseValidator</a> for processing a string of XML (for instance, you may be storing your license content in a database rather than a file).  I didn&#8217;t need a refresher course on reading file content into a string, so I removed LicenseValidator and then collapsed StringLicenseValidator into the AbstractLicenseValidator base class.</p>
<h2>Results - Signing XML Documents</h2>
<p>All this left me with a better understanding of what Rhino Licensing has to offer, while whittling the project down to the few files I <em>really</em> wanted to dig into: <a href="https://github.com/hibernating-rhinos/rhino-licensing/blob/4d77e00bfa85e8d22f966b09e340be31476afac1/Rhino.Licensing/LicenseGenerator.cs">LicenseGenerator</a>, and a now-much-much-smaller version of <a href="https://github.com/hibernating-rhinos/rhino-licensing/blob/4d77e00bfa85e8d22f966b09e340be31476afac1/Rhino.Licensing/AbstractLicenseValidator.cs">AbstractLicenseValidator</a>.  The first is responsible for generating the tamper-proof XML, and the second is responsible for parsing the tamper-proof XML and deciding whether it is legitimate.</p>
<p>James Gregory&#8217;s <a href="http://www.jagregory.com/writings/rhino-licensing/">Rhino Licensing tutorial</a> first describes a prerequisite step for creating a private/public key pair:</p>
<p>[gist id=4435588]</p>
<p>The contents of these files are basically large numbers.  The numbers are related to each other, but a malicious user would not be able to guess the private one given only the public one.</p>
<p><a href="https://github.com/hibernating-rhinos/rhino-licensing/blob/4d77e00bfa85e8d22f966b09e340be31476afac1/Rhino.Licensing/LicenseGenerator.cs">LicenseGenerator</a> is given the private one as a string to its constructor.  LicenseGenerator then generates a string of XML given a few values.  The values will all appear in plain text in the XML: name, id, expirationDate, LicenseType, and an optional set of name/value pairs specific to your needs.  The private helper method CreateDocument produces an XmlDocument containing those inputs.</p>
<p><strong>Next, the magic happens.</strong>  This simple XML document is completely open to tampering by a malicious user.  To combat our adversary, it supplements the document with an additional XML element produced by private helper method GetXmlDigitalSignature.  This method uses some .NET framework classes to take the original document and use the secret/private key to produce an encrypted version of the original weak XML document.  The new XML element basically contains yet another very large number, which corresponds with the original XML document content.  The resulting document is now tamper-proof: if a malicious user opens it and changes the expiration date to the year 2500, they would have to <em>also</em> change the big signature number to match, and <em>good luck guessing what big number corresponds with the new XML document</em>, since the malicious user doesn&#8217;t have the private key necessary to create that number quickly.  To sum up, here&#8217;s how to take an insecure XML document and make it tamper-proof with a signature:</p>
<p>[gist id=4438155]</p>
<p>Once we have one of these documents, how do we read and validate them?  <a href="https://github.com/hibernating-rhinos/rhino-licensing/blob/4d77e00bfa85e8d22f966b09e340be31476afac1/Rhino.Licensing/AbstractLicenseValidator.cs">AbstractLicenseValidator</a> had been whittled down to be little more than the methods ValidateXmlDocumentLicense() and TryGetValidDocument(string licensePublicKey, XmlDocument doc).  Contrary to its name, the main thing ValidateXmlDocumentLicense does is read the original inputs from the human-readable parts of the XML file.  TryGetValidDocument does the real work, the inverse of LicenseGenerator&#8217;s digital &#8220;signature&#8221;: read the special &lt;Signature&gt; element which contains our encrypted original document, and ask the .NET framework whether it matches the rest of the document&#8217;s human-readable content:</p>
<p>[gist id=4438179]</p>
<p>Creating tamper-proof yet human-readable XML files is no longer magical.  Rhino Licensing creates and validates tamper-proof license files by taking the original insecure version of the document and appending a special &#8220;content summary&#8221; element.  A malicious user would have to tamper with the human-readable part as well as the virtually-unguessable content summary in order to trick the validator, and as long as the private key is kept private, that&#8217;s certainly good-enough.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/get-to-know-a-developer-patrick-abbs/">Get to Know a Developer: Patrick Abbs</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-01-08T00:00:00-06:00" pubdate data-updated="true">Jan 8<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img class="alignright size-medium wp-image-6318" title="Patrick Abbs" src="http://www.headspring.com/wp-content/uploads/2013/01/photo-1-e1357685470139-224x300.jpg" alt="Patrick Abbs" width="224" height="300" />This week we welcomed in a New Year and a new consultant to the team: Patrick Abbs.  Patrick is a native Austinite, but just moved back from New York.  He went to NYU for Individualized Study – a new type of customized undergraduate degree program. He explained to me that he chose a focus of study (Game Theory) and developed his own course schedule around it. He had to produce a senior thesis and submit it before a board, similar to the process of obtaining a graduate degree.</p>
<p>In school and in the workforce, he found programming knowledge to be very helpful in crunching data for statistical analysis. Eventually, he was led to Headspring. Read more about how that happened:</p>
<p><strong>Where did you work, and what did you do before coming to Headspring?</strong></p>
<p>My last two jobs were completely different from each other, but Headspring is interestingly kind of a mix between the two.  At the tech startup Tilde, I worked with the LAMP stack (as well as some C# and Python) to create a B-to-B tool for businesses to streamline their back-office processes.  At DRSdigital, I worked directly with new and existing clients to create, customize, and maintain secure data rooms (typically for potential merger and acquisition deals).</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/get-to-know-a-developer-patrick-abbs/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/code-whittling/">Code Whittling</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-01-03T00:00:00-06:00" pubdate data-updated="true">Jan 3<span>rd</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Reading other people&#8217;s code is a valuable learning exercise, but it can be very difficult no matter how experienced or talented the original developers were.  It&#8217;s tough to read other people&#8217;s code, especially on projects you are unfamiliar with.  You may be a fan of an open-source project, and want to learn from it, but get lost once you start trying to read through it.  Even if the project was exceptionally well-written, the size of the project and its unfamiliar concepts may be obstacles to an outside observer.</p>
<p>In recent months, I tried to learn how two open-source projects work: <a href="https://github.com/hibernating-rhinos/rhino-licensing">Rhino Licensing</a> and <a href="http://xunit.codeplex.com/">xUnit</a>.  In each case, I immediately ran into the typical problem: I didn&#8217;t know where to start to really get a feel for how these projects work, and the thought of just opening Solution Explorer and reading through each file in random order just didn&#8217;t seem like it would be useful.</p>
<p>Our brains don&#8217;t work like IDEs.  I can&#8217;t just read 100,000 lines of code and expect to retain enough of that information to be useful.  Instead, I took a different tack.  When I&#8217;m actually working on a team project, I don&#8217;t find myself sitting still, idly reading thousands of lines of code straight through.  That would be ridiculous, so why was I about to do precisely that to learn about these other projects?</p>
<p>Instead of pointlessly trying to read and remember everything, I wanted to pursue two other goals simultaneously: engaging with the code like an active contributor while discovering and honing in on the most relevant parts.</p>
<p><strong>Act like a contributor:</strong>  When working on a real project for a client, I don&#8217;t just sit there and read the team&#8217;s contributions straight through, for the same reason that didn&#8217;t work while reading other people&#8217;s open-source projects.  Instead, we all gain an understanding of a project over time, <em>through active and repeated interaction with the code</em>.  I need to implement feature X, which is similar to feature Y, so I start searching for feature Y.  Maybe I compare its implementation to the user interface.  Maybe I see something surprising that I would have forgotten to do in my own feature.  Heck, maybe I find a bug, or a way to make both features share most of their implementation.  Maybe it&#8217;s not obvious how a particular identifier affects the system, so I do an <a href="http://www.headspring.com/patrick/escape-analysis/">escape analysis</a> for it&#8230;</p>
<p>In all of these activities, our hands are glued to keyboards: writing code, refactoring code, searching through code paths, and the like.  If we simulate these activities while trying to learn about someone else&#8217;s open-source project, we are more likely to benefit from the activity in the same way we benefit from these activities on our own &#8220;real&#8221; projects.</p>
<p><strong>Hone in on what&#8217;s relevant:</strong>  Large projects are daunting, and small projects aren&#8217;t.  Usually, there is a particular part of a project you happen to use the most and are interested in learning about.  Everything else in the project is a distracting obstacle.  By deliberately removing the parts that aren&#8217;t too important to you, it&#8217;ll be easier to focus on the parts you do care about.</p>
<p>I like to think of this combined activity as &#8220;Code Whittling&#8221;.  You destroy a project from the outside in, learning about it as you go.</p>
<h2>Destroying a Project</h2>
<p>I started by creating a throwaway clone of the tool I wanted to learn about.  Then, I thought of its features from the point of view of someone <em>using</em> it within their own project, and identified the main features that I <em>don&#8217;t</em> care about.  These feature may very well be useful, but were unrelated to the ones I really wanted to learn about.  I started violently removing those &quot;irrelevant&quot; features left and right.  After gutting the major features I wasn&#8217;t interested in learning about, I was left with a smaller task and had a better feel for the high-level organization of the project.</p>
<p>Even at this point, though, I didn&#8217;t stop whittling.  Within the features I <em>did</em> care about, there were now some unused classes, unused methods, and unused fields, some identified by ReSharper.  I started removing these, too, which in some cases had a cascading effect.  This step left me with the code that I really wanted to learn about.</p>
<p>Armed with the confidence of working with something that was now smaller and somewhat familiar, I started applying small refactorings.  Within a pefectly good and still-used method, I would try to rewrite parts in my own style.  &quot;If I was the original contributor, how would I have implemented <em>this</em> tiny bit here?&quot; or, &quot;If I was going to write an alternative project, what would I have named <em>that</em> concept?&quot;</p>
<p>I found that actually <em>working</em> with the code like this, even though the &quot;work&quot; itself was not strictly productive, helped me to get a better understanding of the project than I would have gotten simply reading through it all.  This activity kept me focused, and helped me to see the major concepts through the eyes of the real contributors, all while honing in on the information I was originally after.</p>
<p>In the coming weeks, we&#8217;ll walk through this process on a few open-source projects, starting with my previous experiences whittling Rhino Licensing and xUnit.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/creating-windows-installers-with-the-wix-toolset-part-04/">Creating Windows Installers With the WiX Toolset Part 04</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-12-28T00:00:00-06:00" pubdate data-updated="true">Dec 28<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><address>This article is part of a series exploring how to create installers for Windows software.  Here&#8217;s the complete contents of the series.</address>
<address><a href="http://www.headspring.com/nolan/creating-windows-installers-with-the-wix-toolset-part-01/">Part 1 – What Kinds of Software Projects Benefit From an Installer?</a><br />
<a href="http://www.headspring.com/nolan/creating-windows-installers-with-the-wix-toolset-part-02/">Part 2 – An Overview Of Windows Installer and its Features</a><br />
<a href="http://www.headspring.com/nolan/creating-windows-installers-with-the-wix-toolset-part-03/">Part 3 – Tooling Options for Building Installers</a><br />
<a href="http://www.headspring.com/nolan/creating-windows-installers-with-the-wix-toolset-part-04/">Part 4 – The Windows Installer Runtime Sequence</a><br />
<a href="http://www.headspring.com/nolan/creating-windows-installers-with-the-wix-toolset-part-5/">Part 5 – The Contents of an MSI</a><br />
<a href="http://www.headspring.com/nolan/creating-windows-installers-with-the-wix-toolset-part-6/">Part 6 – The Structure of a WiX File</a><br />
<a href="http://www.headspring.com/nolan/creating-windows-installers-with-the-wix-toolset-part-7/">Part 7 – Generating an MSI Package From Your WiX</a><br />
<a href="http://www.headspring.com/nolan/creating-windows-installers-with-the-wix-toolset-part-8/">Part 8 – Troubleshooting Installer Runtime Problems</a><br />
<a href="http://www.headspring.com/nolan/creating-windows-installers-with-the-wix-toolset-summary/">Part 9 - Summary</a><br />
</address>
<p><br/></p>
<h2>The Windows Installer Runtime Sequence</h2>
<p>When a software installation actually takes place, there&#8217;s actually a certain sequence of events that Windows Installer follows.  It&#8217;s critical to understand this sequence for several reasons.  The entire sequence isn&#8217;t always guaranteed to run (the user might perform a silent install), and only certain parts of the sequence are transactional and you don&#8217;t want to affect the target machine outside that range of events.</p>
<p>The installation process is divided into two phases:  the UI or acquisition phase, and the execution phase.</p>
<p><a href="http://www.headspring.com/nolan/creating-windows-installers-with-the-wix-toolset-part-04/phasesofaninstall/" rel="attachment wp-att-6310"><img src="http://www.headspring.com/wp-content/uploads/2012/12/phasesOfAnInstall.png" alt="Diagram with UI or Acquisition phase followed by Execution phase with immediate mode and deferred mode. Rollback arrow across execution phase." title="Phases of a Windows Install" width="649" height="361" class="alignnone size-full wp-image-6310" /></a></p>
<h3>UI/Acquisition phase</h3>
<p>This is usually the first phase.  This is the phase where the user is presented with a series of screens guiding them through the install process, possibly asking for any needed information and perhaps providing a chance to customize the location on the filesystem to install the application.</p>
<p>However, if the user performs a silent install, this phase will be skipped!  Because of this you need to be sure that you have default values or actions for anything you prompt the user for.  You also need to be sure not to perform any setup actions in this phase because it might not run.</p>
<h3>Execution phase</h3>
<p>This is the second phase where Windows Installer actually performs the install.  Unlike the UI phase it will always run, and it does so in two modes that are rather confusingly named:  immediate and deferred.</p>
<p>In immediate mode, Windows Installer scans through the entire MSI and prepares a script of steps to execute to perform the installation.  It doesn&#8217;t actually make any changes at this point, it just compiles all the specified resources and actions into a transcript to be applied after the entire MSI is scanned and compiled into the transcript.</p>
<p>In deferred mode the compiled transcript of changes is actually applied to the target computer.</p>
<h3>Rollback</h3>
<p>If at any point during the execution phase an error occurs, Windows Installer will halt and perform a rollback of all operations previously applied.  This makes the execution phase transactional - either the entire set of operations is applied, or none of them.  As always there are some caveats and exceptions around this (e.g. running a custom action method that doesn&#8217;t have a compensating rollback method), but all basic file operations will be undone.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/creating-windows-installers-with-the-wix-toolset-part-03/">Creating Windows Installers With the WiX Toolset Part 03</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-12-28T00:00:00-06:00" pubdate data-updated="true">Dec 28<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><address>This article is part of a series exploring how to create installers for Windows software.  Here&#8217;s the complete contents of the series.</address>
<address><a href="http://www.headspring.com/nolan/creating-windows-installers-with-the-wix-toolset-part-01/">Part 1 – What Kinds of Software Projects Benefit From an Installer?</a><br />
<a href="http://www.headspring.com/nolan/creating-windows-installers-with-the-wix-toolset-part-02/">Part 2 – An Overview Of Windows Installer and its Features</a><br />
<a href="http://www.headspring.com/nolan/creating-windows-installers-with-the-wix-toolset-part-03/">Part 3 – Tooling Options for Building Installers</a><br />
<a href="http://www.headspring.com/nolan/creating-windows-installers-with-the-wix-toolset-part-04/">Part 4 – The Windows Installer Runtime Sequence</a><br />
<a href="http://www.headspring.com/nolan/creating-windows-installers-with-the-wix-toolset-part-5/">Part 5 – The Contents of an MSI</a><br />
<a href="http://www.headspring.com/nolan/creating-windows-installers-with-the-wix-toolset-part-6/">Part 6 – The Structure of a WiX File</a><br />
<a href="http://www.headspring.com/nolan/creating-windows-installers-with-the-wix-toolset-part-7/">Part 7 – Generating an MSI Package From Your WiX</a><br />
<a href="http://www.headspring.com/nolan/creating-windows-installers-with-the-wix-toolset-part-8/">Part 8 – Troubleshooting Installer Runtime Problems</a><br />
<a href="http://www.headspring.com/nolan/creating-windows-installers-with-the-wix-toolset-summary/">Part 9 - Summary</a><br />
</address>
<p><br/></p>
<h2>Free Options</h2>
<p>There are several free options for authoring Windows installers, including WiX.  One of these is Nullsoft Scriptable Install System (NSIS).  NSIS was created a number of years ago in order to distribute a media player called Winamp.  Some reasons to consider NSIS are that it&#8217;s relatively simple and straightforward to learn, and it supports a plugin system to extend it.  Some reasons to avoid NSIS are it&#8217;s relatively old (the last release was in 2009), and the size of the community using it has been dwindling as a result.  You can check out NSIS <a href="http://nsis.sourceforge.net/">here</a>.</p>
<p> Another free option with a lot of current traction is Inno Setup.  It&#8217;s been around nearly as long as NSIS and is being more actively updated.  It has a custom Pascal scripting engine to customize the install process, and appears to have a few features (such as Unicode support) that NSIS doesn&#8217;t.  You can find out more at the Inno Setup <a href="http://www.jrsoftware.org/isinfo.php">website</a>.</p>
<p> Both NSIS and Inno Setup have one major drawback compared to WiX - neither use the Windows Installer system in Windows discussed in a previous <a href="http://www.headspring.com/nolan/creating-windows-installers-with-the-wix-toolset-part-02/">part</a>.  Whether or not this matters depends on whether your application targets consumers or corporations.  Consumers are not going to care much HOW software installs on their machine as long as it works and doesn&#8217;t silently add malware.  Corporations on the other hand have concerns well beyond the average consumer.  This includes things like inspecting the contents of the installer for worrisome system configuration changes, customizing the installer with separate transforms to meet IT standards, and safely allowing nonadmin users to run an installer that needs some admin privileges.  There&#8217;s a great discussion about the advantages of Windows Installer at <a href="http://serverfault.com/questions/11670/advantages-of-using-msi-files/274609#274609">ServerFault</a> (msi files are Windows Installer packages).</p>
<p> So if WiX has all these great features compared to Inno Setup, what disadvantages does it have?  In my opinion the answer to this is easily the steep learning curve.  Because WiX is essentially a wrapper around the concepts in Windows Installer, you MUST understand Windows Installer to use it effectively.  This will be the topic of future discussions in this series.</p>
<h2>Commercial Options</h2>
<p>There are some commercial options that have more polish and user friendliness than WiX.  The two that appear to be most popular are <a href="http://www.advancedinstaller.com/">Advanced Installer</a> and <a href="http://www.installshield.com/">InstallShield</a>.  I have not used either because my installer needs are so irregular that I haven&#8217;t been able to justify the licensing cost for an occasional &#8220;one off&#8221; installer project, but if your job responsibilities include fulltime or near fulltime work with Windows installers you probably want to investigate them as an option.</p>
<h2>Summary</h2>
<p>There are a variety of tooling options for your installer needs.  If you have a sufficiently simple software product and aren&#8217;t targeting corporate installs, Inno Setup might be a good fit.  If you have more advanced needs that Inno Setup cannot handle, or your targeting corporations that have deployment requirements and standards, you&#8217;ll probably want to use WiX unless maintaining installers is your primary job responsibility or your company has sufficiently deep pockets for a good commercial tool.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/the-dunning-kruger-effect/">The Dunning-Kruger Effect</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-12-27T00:00:00-06:00" pubdate data-updated="true">Dec 27<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This week, I was guilty of the dark side of the <a href="http://en.wikipedia.org/wiki/Dunning%E2%80%93Kruger_effect">Dunning-Kruger Effect</a>.  It&#8217;s not a universal truth, but it does describe a very real phenomenon that we&#8217;re all guilty of from time to time.  This happens when an unskilled or incorrect person is overly-confident in their own ability, while highly-competent individuals doubt their own ability.</p>
<p>Good thing it&#8217;s not a universal truth, or else we&#8217;d all get stuck in an infinite loop: &#8220;I doubt myself, therefore I must in fact be perfect.  I think I&#8217;m perfect, therefore I must doubt myself.  I doubt myself&#8230;&#8221;  Since that train of thought isn&#8217;t useful, the practical result of the Dunning-Kruger Effect is that <strong>any extreme confidence should be treated as a sign that we aren&#8217;t trying hard enough to improve.</strong>  When you <em>don&#8217;t</em> react to your own confidence by seeking out areas for improvement, you doom yourself to stagnate.  That would my worst nightmare come to life (aka the Freddy-Krueger Effect).</p>
<p>This time around, I had false-confidence around a series of refactorings I applied to <a href="https://github.com/plioi/parsley">Parsley</a> about a year ago.</p>
<p>Let&#8217;s start by setting the scene.  Parsley is a tool for working with complex text patterns, when a single regex is insufficient.  You describe what a successful input looks like by breaking down the overall pattern into several smaller, named patterns called grammar rules.  For instance, if you want to <a href="https://github.com/plioi/parsley/blob/2d113754b6e3e68a43e624987fb7ed5c4dd99870/src/Parsley.Test/IntegrationTests/Json/JsonGrammar.cs">describe JSON documents with Parsley</a>, you could define rules named True, False, Null, Number, Quotation, Array, and Dictionary.  All these grammar rules are described in terms of the <em>tokens</em> of JSON, the tiniest substrings that still have meaning to a JSON parser: things like keywords, operators, numeric literals, and string literals.</p>
<p>Some tokens are defined with simple string literals:</p>
<p>[gist id=&#8221;4392649&#8221;]</p>
<p>Some tokens are defined with simple regexes:</p>
<p>[gist id=&#8221;4392659&#8221;]</p>
<p>Lastly, some tokens are defined with nontrivial, multilined regexes:</p>
<p>[gist id=&#8221;4392669&#8221;]</p>
<p>An important design goal here was to allow users of Parsley to define their regexes under a technically-untrue assumption: you get to pretend that your regex is being applied to the <em>start</em> of a potentially-long string.  You are trying to tell Parsley how to &#8220;peel off&#8221; the next few characters from the raw input.</p>
<p>If that&#8217;s how it actually worked, though, we&#8217;d be stuck with performing wasteful substring operations: after matching a regex against the front of a million-character string just to peel off the first few characters, you <strong>don&#8217;t</strong> want to actually perform a nearly-million-character substring operation just to represent progress through the input.  Multiplying that waste by the number of tokens you&#8217;d eventually peel off of the original million characters, the waste would add up quickly.  So, I took advantage of some special regex options as well as a &#8220;\G&#8221; modifier, allowing me to compare your given regex against the input, <em>starting at whatever input position I feel like.</em>  I didn&#8217;t want the consumer to care about these details, so I wrote the TokenRegex class to hide these details:</p>
<p>[gist id=&#8221;4392684&#8221;]</p>
<p>Excellent!  You can provide simple regexes intended to match the <em>start</em> of a given input, and I modify the pattern so that I can in-fact match at <em>any</em> position we&#8217;ve progressed to.  <strong>Man, am I awesome or what?</strong></p>
<p>Introducing this class <em>was</em> a good idea.  It dramatically simplified the regexes that consumers needed to provide, and sufficiently abstracted away the details and reasoning behind this rarely-used &#8220;\G&#8221; regex modifier.  This refactoring was also a part of a larger refactoring effort, which has also been successful.  I wanted to make it so that you didn&#8217;t <em>have</em> to use all of the moving parts Parsley provides: if you needed a smarter tokenizer, such as one to deal with Python-style indentation, that was ok: I provided useful interfaces to let you hook in your own code for that kind of customization.  TokenRegex was supposed to help you further by isolating all the regex stuff from the rest of the system; if the Pattern class wasn&#8217;t good enough for your needs, you could provide your own and still leverage TokenRegex while doing so.</p>
<p>This week, fellow-Headspringer <a href="https://coderwall.com/ChrisMissal">Chris Missal</a> made a simple request: &#8220;What are your thoughts on giving parsley the ability to match tokens with a case insensitive regex?&#8221;</p>
<p>Armed with all the undeserved confidence in the world, I first replied that I already provided the right hooks for exactly that kind of customization: simply see class A, create a similar class B implementing the same interface while using a case-insensitive regex instead.</p>
<p><strong>Oh. Wait. No. That doesn&#8217;t actually work.</strong>  Not so awesome, afterall.</p>
<p>Even though the entire effort last year was to provide hooks for <em>exactly</em> this sort of customization, my TokenRegex abstraction was working against me.  I had created it in order to hide the use of the &#8220;\G&#8221; regex modifier as well as the convenient RegexOptions.Multiline option, which had the unintended consequence of <em>also</em> hiding the RegexOptions argument from the consumer.  Chris wants to include RegexOptions.IgnoreCase, but I&#8217;m preventing that for no good reason.  It&#8217;s fine that the current behavior is the <em>default</em>, but it shouldn&#8217;t be the <em>only</em> option.</p>
<p><a href="https://github.com/plioi/parsley/commit/c33c63bf870253be503f900482a6d3a65f50180a">The fix was to update the TokenRegex constructor to optionally accept additional RegexOption values</a>, and to allow those new constructor arguments to be supplied by the consuming project:</p>
<p>[gist id=&#8221;4392698&#8221;]</p>
<p>From now on, if I get a feature request on an open-source project, I should never have a knee-jerk reaction of &#8220;It already does that due to my infinite foresight.&#8221;  Rather, I should go on the assumption that I really have left out or hidden something useful, and see what I can learn in the process.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/6/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/4/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/dry-test-inheritance/">DRY Test Inheritance</a>
      </li>
    
      <li class="post">
        <a href="/blog/the-sincerest-form-of-flattery/">The Sincerest Form of Flattery</a>
      </li>
    
      <li class="post">
        <a href="/blog/fixies-life-bicycle/">Fixie&#8217;s Life Bicycle</a>
      </li>
    
      <li class="post">
        <a href="/blog/test-discovery/">Test Discovery</a>
      </li>
    
      <li class="post">
        <a href="/blog/enabling-change/">Enabling Change</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/HeadspringLabs">@HeadspringLabs</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'HeadspringLabs',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Headspring Labs -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>





  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
