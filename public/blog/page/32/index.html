
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>Headspring Labs</title>
	<meta name="author" content="Headspring Labs">

	
	<meta name="description" content="This post is going to cover a pair of topics that aren’t truly related, but topics that I like to use together. When combined they can give you a &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="Headspring Labs" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script async="true" src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	
</head>


<body>
	<header id="header" class="inner"><h1><a href="/">Headspring Labs</a></h1>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
	<li><a href="/open-source">Open Source</a></li>
	<li><a href="/team">The Team</a></li>
	<li><a href="/about-us">About Us</a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="http://google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:headspringlabs.com">
			</form>
		</div>
	</div>
</nav>
<nav id="sub-nav" class="alignright">
	<div class="social">
		
		
		
		<a class="twitter" href="http://twitter.com/HeadspringLabs" title="Twitter">Twitter</a>
		
		
		<a class="github" href="https://github.com/HeadspringLabs" title="GitHub">GitHub</a>
		
	    
		
		<a class="coderwall" href="https://coderwall.com/team/headspring" title="Coderwall">Coderwall</a>
		
		
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
	    
	</div>
	<form class="search" action="http://google.com/search" method="get">
		<input class="alignright" type="text" name="q" results="0">
		<input type="hidden" name="q" value="site:headspringlabs.com">
	</form>
</nav>
<nav id="main-nav"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
	<li><a href="/open-source">Open Source</a></li>
	<li><a href="/team">The Team</a></li>
	<li><a href="/about-us">About Us</a></li>
</ul>
</nav>

</header>
	
		
<div id="banner" class="inner">
	<div class="container">
		<ul class="feed"></ul>
	</div>
	<small><a href="http://twitter.com/HeadspringLabs">HeadspringLabs</a> @ <a href="http://twitter.com">Twitter</a></small>
	<div class="loading">Loading...</div>
</div>
<script src="/javascripts/twitter.js"></script>
<script type="text/javascript">
	(function($){
		$('#banner').getTwitterFeed('HeadspringLabs', 5, );
	})(jQuery);
</script>

	
	<div id="content" class="inner">


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/the-null-object-pattern-in-c-and-system-lazy/">
		
			The Null Object Pattern in C# and System.Lazy</a>
	</h2>
	<div class="entry-content">
		<p>This post is going to cover a pair of topics that aren’t truly related, but topics that I like to use together. When combined they can give you a nice pattern. First I’m going to briefly talk about the Null Object Pattern:</p>
<h3><strong>The Null Object Pattern</strong></h3>
<p>Rather than dealing with uninitialized variable instances, you can start off by assigning a variable to an instance of a “Null Object”. Oftentimes you’ll see this done when developers assign an empty string to a variable because they don’t want to deal with null values. I’m going to be discussing this with types that are a bit more complex than string.</p>
<p>In the code snippet below, I have represented a method with an optional argument that will fall back to an “empty” signature if one isn’t supplied. This Empty property is our Null Object for Signature that provides a safe instance we can use instead of dealing with null.</p>
<p><div><script src='https://gist.github.com/2206415.js'></script>
<noscript><pre><code></code></pre></noscript></div>
<br />
[gist id=&#8221;2206371&#8221; file=&#8221;Signature.cs&#8221;]</p>
<p>Another reason I’m a fan of this pattern is when it can be used in sets. Imagine your email signature for a moment. You could have multiple signatures to choose from when you compose an email. Rather than having code to check for the existence of signatures, we can now simply always assume that there will be at least one signature.</p>
<p>[gist id=&#8221;2206371&#8221; file=&#8221;EmailUser.cs&#8221;]</p>
<p>While this code example isn’t too complex, one could imagine that creating a new object every time a property is accessed could get a bit expensive depending on the project. In our example with Email and Signatures, we would be perfectly fine using a Singleton. We might also want to set up our code this way if we needed to worry about reference equality. Just something to keep in mind.</p>
<p>When creating singletons over the years, I’ve seen it done many ways, each better than the next. If we’re going to manage our object’s lifestyle ourselves, there’s a couple of approaches. Each of these is better than the previous:</p>
<p><div><script src='https://gist.github.com/2206342.js'></script>
<noscript><pre><code></code></pre></noscript></div>
</p>
<p>You’ll notice that making sure this code is lazily initialized and thread safe can add a lot of “noise” to your code.</p>
<h3><strong>Using .Net’s System.Lazy</strong></h3>
<p>This is where <a href="http://msdn.microsoft.com/en-us/library/dd642331.aspx">Lazy</a> can help me out. The following code will achieve the same result as the double-checked locking method above.</p>
<p><div><script src='https://gist.github.com/2206450.js'></script>
<noscript><pre><code></code></pre></noscript></div>
</p>
<p>It is much cleaner, right? I like Lazy because it removes the noise around thread safety from my code, where it really shouldn’t exist anyway.</p>
<p>I’ve found places that these two patterns work together nicely for me, but one doesn&#8217;t require the other. Keep an eye open for areas to use these individually if the opportunity is right.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-04-06T00:00:00-05:00" pubdate data-updated="true">Apr 6<span>th</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/developer-deep-dive/'>Developer Deep Dive</a>, <a class='category' href='/blog/categories/clean-code/'>clean code</a>, <a class='category' href='/blog/categories/design-patterns/'>design patterns</a>, <a class='category' href='/blog/categories/learning-c-number-and-net/'>learning c# and .net</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/publishing-a-library-to-symbolsource-org/">
		
			Publishing a Library to SymbolSource.org</a>
	</h2>
	<div class="entry-content">
		<p>Last week, we saw how to <a href="http://www.headspring.com/2012/03/publishing-a-library-with-nuget">publish a library with NuGet</a>.  By including DLL files in our NuGet package under the special &#8220;lib&#8221; folder, NuGet knows to install them as assembly references in the target project.  This is a great way to get your open-source library into the hands of your audience, but it also provides them with a pretty lame debugging scenario.</p>
<h2>Black Box Debugging</h2>
<p>Using that NuGet package from last week, I installed <a href="https://github.com/plioi/parsley">Parsley</a> into another project that consumes it.  While trying to debug <em>that</em> project, I got to a point where I wanted to just step the debugger into one of Parsley&#8217;s methods.  Even with the PDB file included in the NuGet package, Visual Studio just plain didn&#8217;t have enough information to let me step through Parsley&#8217;s code.</p>
<p>Too much information about the original source gets lost when a PDB is produced.  We need to make the source code available to the consumer when they install our packages, and we need to so in a way that Visual Studio can take advantage of at debugging time.</p>
<h2>Publishing a Symbol Package</h2>
<p>Fortunately there is a free service, <a href="http://SymbolSource.org">SymbolSource.org</a>, which is easy to integrate with both NuGet (for the publisher) and Visual Studio (for the consumer).  Although getting a SymbolSource account is an option, you won&#8217;t actually need one.  You&#8217;ll be able to publish a special variant of your NuGet package to NuGet.org, and then NuGet.org shakes hands with SymbolSource.org on your behalf.  All it takes is a slight tweak to your <code>.nuspec</code> file, and an extra command-line argument when converting that <code>.nuspec</code> into a <code>.nupkg</code>!</p>
<p>The previous version of my <code>.nuspec</code>&#8217;s <code>files</code> tag just copied DLLs and PDBs into the package&#8217;s special &#8220;lib&#8221; folder:</p>
<p><div><script src='https://gist.github.com/2231973.js'></script>
<noscript><pre><code></code></pre></noscript></div>
</p>
<p>The new version also copies all of the source code to the package&#8217;s special &#8220;src&#8221; folder.  We don&#8217;t need to copy auxiliary files like <code>.csproj</code> or <code>.sln</code>.  We just need to copy the code files that the debugger will need to display, namely all the *.cs files:</p>
<p><div><script src='https://gist.github.com/2288725.js'></script>
<noscript><pre><code></code></pre></noscript></div>
</p>
<p>I used this single <code>.nuspec</code> to produce <em>two</em> <code>.nupkg</code> files, by including the <code>-Symbols</code> command line argument:</p>
<blockquote><p>
  $ nuget pack Parsley.nuspec -Symbols
</p></blockquote>
<p>This produced Parsley.0.0.2.nupkg like normal, but it also produced Parsley.0.0.2.symbols.nupkg.  NuGet.exe is smart enough to know that the first package only needed the DLLs (used at installation time), and that the symbol package needs to contain the PDBs and C# files (used at debugging time).  When I pushed the main package to NuGet.org, NuGet.exe noticed the symbol package was also present, and submitted that one too:</p>
<blockquote>
<p>$ nuget push Parsley.0.0.2.nupkg<br />
    Pushing Parsley 0.0.2 to the NuGet gallery (https://www.nuget.org)&#8230;<br />
    Your package was pushed.<br />
    Pushing Parsley 0.0.2 to the symbol server (http://nuget.gw.symbolsource/Public/NuGet)&#8230;<br />
    Your package was pushed.</p>
</blockquote>
<p>I then followed the instructions for <a href="http://www.symbolsource.org/Public/Home/VisualStudio">configuring Visual Studio to work with SymbolSource.org</a>.  Remember, you don&#8217;t have to follow the suggestion to create a SymbolSource account.</p>
<p>I updated the package in the consumer project, which installed the DLLs.  The next time I tried to step into a Parsley method, I got a quick dialog that said it was downloading the relevant files from SymbolSource, and then I was able to step through the read-only C# files found within the symbol package!</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-04-06T00:00:00-05:00" pubdate data-updated="true">Apr 6<span>th</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/developer-deep-dive/'>Developer Deep Dive</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/sharing-an-office-with-your-boss/">
		
			Sharing an Office With Your Boss</a>
	</h2>
	<div class="entry-content">
		<p><a href="http://www.headspring.com/2012/04/sharing-an-office-with-your-boss/katie-and-mary-office3" rel="attachment wp-att-4647"><img class="aligncenter size-full wp-image-4647" title="katie and mary office3" src="http://www.headspring.com/wp-content/uploads/2012/04/katie-and-mary-office3.jpg" alt="" width="595" height="444" /></a></p>
<p>Outside of one six-month period at my last job, I’ve always shared an office with my boss.  It’s not easy.  In fact, it’s not really that easy to share work space with anyone.  Obviously noise is an issue – noisy talking, breathing, typing, eating etc.  With a boss, noise is even more difficult to cope with because usually your preferences come second to theirs.  Also, sharing work space with a boss grays boundaries of the appropriate use of time and conversation.  You have to be on time (all the time), constantly focused, and prepared to smile politely <em>for every interruption.</em>  Furthermore, the two of you are much more exposed to each other’s shortcomings than anyone would prefer. Your boss is there to micro-manage every conversation or task, and you are there to witness every breakdown or breach of authority.</p>
<p>Here are some important facts:</p>
<ol>
<li>Your boss wants personal space too</li>
<li>You’re probably not going to get it</li>
</ol>
<p>So…</p>
<p><strong>If you can’t communicate well with your boss, these problems will always be problems.</strong></p>
<p>Sometimes, there is a greater, systematic reason why open and honest communication never happens at a company.  But most of the time it’s definitely possible to alleviate the pressure by simply talking to your boss about what you’re dealing with. Bosses aren’t evil; they really do want you to be as comfortable as possible.</p>
<p>One way to breakdown the communication barrier is to ask more questions. Being considerate of your boss’s situation is the first step, and don’t expect have to have all the answers right up front.  Instead of pointing the finger by listing your complaints, try to ask questions like, “How can I make this more comfortable for you?” or “I have some ideas about how to make the room quieter; can we talk?” or “You usually have great advice for me, so is it ok if we talk things through a little more before deciding on a solution?”</p>
<p>Once you are able to talk openly about any problem, it makes it a lot easier to tackle other problems together.</p>
<p>For the record: I really like sharing an office with my boss, Katie. Because we share space, we have a much more casual and relaxed relationship.  If I’m struggling with something, I’m able to talk it through with her before giving up. If we were in a separate space, I don’t think I would be as willing to admit failures or shortcomings without “explaining them away.”  We have discussed this scenario before, and labeled it the “no room for error relationship.”  Because she is here, she understands the context of my day, and can help me accomplish my own goals. Conversely, she doesn’t have to be brilliant all by herself.  I’m here to bounce ideas around, brainstorm, or remind her of details in my work that could positively or negatively affect her strategy and decision making.  She&#8217;s smart, not perfect, and it helps that she knows it.</p>
<p>What are some other pros/cons of sharing space with a boss, and how do you cope?</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-04-04T00:00:00-05:00" pubdate data-updated="true">Apr 4<span>th</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/bonus/'>Bonus!</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/add-a-little-func-to-your-tests/">
		
			Add a Little Func to Your Tests</a>
	</h2>
	<div class="entry-content">
		<p>Yes this is a lame title, but it made me chuckle. I thought I’d share a quick shortcut that good ole Func&lt;&gt; provides as an alternative to a private method.</p>
<p>With Func&lt;&gt; it’s easy to clean up tests. Let’s assume you need to test a query that returns a list of books in a particular genre.</p>
<p><div><script src='https://gist.github.com/2015251.js'></script>
<noscript><pre><code></code></pre></noscript></div>
</p>
<p>By creating a Func&lt;&gt; to set the properties on an object, it shortens the test and makes it much more readable. Obviously if you have more than one test that needs new books, then I&#8217;d recommend using a private method. If you&#8217;re wondering about the .ShouldEqual or .ShouldBeTrue in the test, I&#8217;m using the <a title="Should Assertion Library" href="http://nuget.org/packages/Should" target="_blank">Should Assertion Library</a> because I like the readability.</p>
<p>If you want to set more than just the Genre, it would look like this:</p>
<p><div><script src='https://gist.github.com/2015265.js'></script>
<noscript><pre><code></code></pre></noscript></div>
</p>
<p>The above example would be called like this:</p>
<p><div><script src='https://gist.github.com/2015266.js'></script>
<noscript><pre><code></code></pre></noscript></div>
</p>
<p>If you want to specify even more properties, try this out:</p>
<p><div><script src='https://gist.github.com/2015268.js'></script>
<noscript><pre><code></code></pre></noscript></div>
</p>
<p>The above example would look like this:</p>
<p><div><script src='https://gist.github.com/2015272.js'></script>
<noscript><pre><code></code></pre></noscript></div>
 </p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-04-02T00:00:00-05:00" pubdate data-updated="true">Apr 2<span>nd</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/developer-deep-dive/'>Developer Deep Dive</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/the-confusion-around-qa-why-doesnt-the-industry-agree/">
		
			The Confusion Around QA: Why Doesn’t the Industry Agree?</a>
	</h2>
	<div class="entry-content">
		<p>Most people in the industry are undoubtedly familiar with the Software Development Lifecycle (SDLC).</p>
<p><img src="http://upload.wikimedia.org/wikipedia/commons/thumb/a/aa/CPT-SystemLifeSycle.svg/500px-CPT-SystemLifeSycle.svg.png" alt="" /></p>
<p>Reference: Wikipedia</p>
<p>I was having lunch with a recruiter colleague, and I was learning about the QA requests from lots of customers.  Most defined the QA role well within the “Testing” oval as shown in the picture.  From my questioning, it appears that the agile movement has done little to alter this SDLC.  In fact, this process is still alive and very will, even within agile teams.  The difference is in the batch size.  Rather than doing analysis on a batch of 50 features and then moving that full batch to design, the agile movement has reduced that batch size considerably, and in some cases reduced it down to a batch size of 1.  Lean agile teams are likely to use a batch size of 1 and continuously pull features through the lifecycle.  As an aside, I find that even when working on a single feature, this cycle is still in play, although the feature is more likely to jump backward and redo a portion of the phase before if new information is found.</p>
<p>The reason for the reflection on QA is that my recruiter colleague still predominantly  receives requests for QA folks to fill the roll of the testing phase.  This means that the QA involvement happens after analysis, after design, after implementation, and only when defects can no longer be prevented.  They can only be discovered.  Inspectors at the end of an assembly line are powerless to prevent defective parts.  They can only discover them through inspection and serve a Quality Control role to prevent defective parts from being shipped.  The same is true in software, and many others have written the same.</p>
<p>I shared a very successful project where we incorporated what would otherwise be a very traditional QA Manager into an agile process and yielded great results and a very low defect rate.  When crafting the team’s process, the QA Manager worked in between the analysis and design phases of a given feature to understand and then define the test cases.  That is, based on the current understanding of the feature, how will we test it?  The work required to create the test cases was sufficient to find analysis gaps early and force them to be filled.  The additional information and context contained in the test cases added the design activity as well and yield, in my opinion, a more robust design that was less prone to defects of oversight.  In this project, we saw the time spent coding reduced to less than 50% of the overall project effort.  In fact, at the beginning of the project, programmers were about 50% of project staff, and half-way through, the programmer staff had been reduced to 1/3 of overall project staff.  By crafting a process that pulled thoughts of QA to the beginning of the process, we modified the environment to one in which it was hard for defects to be created in the first place.  In the end, we found no need to create a defect tracking database, and the team was applauded for its quality.  The production launch, which always carries some risk, was a trivial affair, and the system is currently being used by many to perform their daily job.</p>
<p>Our industry stills see QA not as assuring quality, but merely controlling quality through inspection.  Some savvy development managers already have changed traditional QA job descriptions, but there is a long way to go before these notions reach the mainstream of the industry.</p>
<p>What are your experiences with QA?</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-03-30T00:00:00-05:00" pubdate data-updated="true">Mar 30<span>th</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/what-the-tech/'>What the tech?</a>


</div>
	
</div>
</article>

<nav id="pagenavi">
    
        <a href="/blog/page/31/" class="prev">Prev</a>
    
    
        <a href="/blog/page/33/" class="next">Next</a>
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav></div>
	<footer id="footer" class="inner">Copyright &copy; 2013

    Headspring Labs

</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->






</body>
</html>