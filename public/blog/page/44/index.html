
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>Headspring Labs</title>
	<meta name="author" content="Headspring Labs">

	
	<meta name="description" content="This week, I took the opportunity to sit down and chat with one of our Principal Consultants, Mahendra Mavani.  Mahendra is the project lead on our &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="Headspring Labs" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script async="true" src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	
</head>


<body>
	<header id="header" class="inner"><h1><a href="/">Headspring Labs</a></h1>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
	<li><a href="/open-source">Open Source</a></li>
	<li><a href="/team">The Team</a></li>
	<li><a href="/about-us">About Us</a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="http://google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:headspringlabs.com">
			</form>
		</div>
	</div>
</nav>
<nav id="sub-nav" class="alignright">
	<div class="social">
		
		
		
		<a class="twitter" href="http://twitter.com/HeadspringLabs" title="Twitter">Twitter</a>
		
		
		<a class="github" href="https://github.com/HeadspringLabs" title="GitHub">GitHub</a>
		
	    
		
		<a class="coderwall" href="https://coderwall.com/team/headspring" title="Coderwall">Coderwall</a>
		
		
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
	    
	</div>
	<form class="search" action="http://google.com/search" method="get">
		<input class="alignright" type="text" name="q" results="0">
		<input type="hidden" name="q" value="site:headspringlabs.com">
	</form>
</nav>
<nav id="main-nav"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
	<li><a href="/open-source">Open Source</a></li>
	<li><a href="/team">The Team</a></li>
	<li><a href="/about-us">About Us</a></li>
</ul>
</nav>

</header>
	
		
	
	<div id="content" class="inner">


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/get-to-know-a-developer-mahendra-mavani/">
		
			Get to Know a Developer: Mahendra Mavani</a>
	</h2>
	<div class="entry-content">
		<p><a href="http://www.headspring.com/2011/12/get-to-know-a-developer-mahendra-mavani/img_5988" rel="attachment wp-att-2925"><img class="alignright size-medium wp-image-2925" title="IMG_5988" src="http://www.headspring.com/wp-content/uploads/2011/12/IMG_5988-199x300.jpg" alt="" width="199" height="300" /></a>This week, I took the opportunity to sit down and chat with one of our Principal Consultants, Mahendra Mavani.  Mahendra is the project lead on our most recognized work with the CUC, creating the Juvenile Case Management System (JCMS).  Out of that project came two homegrown, open source creations: Automapper and CommandProcessor.  Here is how our talk went:</p>
<p>What tools and technologies would you consider yourself an expert in?</p>
<ul>
<li>I can say I am an expert in building stand alone, web apps, web services and enterprise integration using nServiceBus, ASP.NET, MVC, nHibernate, and StructureMap. My preferred methodologies include Agile, Scrum/XP, and Lean.</li>
</ul>
<p>&nbsp;</p>
<p>What work or studies have you done with these tools and technologies?</p>
<ul>
<li>I have been using all these tools and technology on various consulting projects in South Africa, Singapore, and Netherlands since 2002. Throughout that time, I have contributed to open source projects like Automapper, NAAK, MvcContrib, and <a href="http://autopilot-dotnet.googlecode.com/svn/trunk/">AutoPilot-dotnet</a>.</li>
</ul>
<p>&nbsp;</p>
<p>What tools and technology are you really interested in?</p>
<ul>
<li>I’m not married to any tools or technology.  I strongly believe in solving business problems with tools/technology that result in the simplest possible solution with the least amount of technical debt.  Today’s tools are going to be outdated tomorrow but underlying principles will remain unchanged.  For example, S.O.L.I.D. Principle or Agile – there are new variations but the principle concepts remain.</li>
</ul>
<p>&nbsp;</p>
<p>What is your strongest character trait?</p>
<ul>
<li>I allow myself to make mistakes as I strongly believe “If you don’t make any mistakes, then you aren’t trying hard enough.” I wish that our education system worked this way.  My attitude towards learning new things and experimenting with the unknown has never let me down.  What others see as a challenge, I see as an opportunity to advance.</li>
</ul>
<p>&nbsp;</p>
<p>For more information on Mahendra, visit his <a href="http://mahendramavani.com">blog</a>.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2011-12-30T00:00:00-06:00" pubdate data-updated="true">Dec 30<span>th</span>, 2011</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/bonus/'>Bonus!</a>, <a class='category' href='/blog/categories/developer-deep-dive/'>Developer Deep Dive</a>, <a class='category' href='/blog/categories/get-to-know-a-headspringer/'>Get To Know a Headspringer</a>, <a class='category' href='/blog/categories/what-the-tech/'>What the tech?</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/infinite-laziness/">
		
			Infinite Laziness</a>
	</h2>
	<div class="entry-content">
		<p>In <a href="http://www.haskell.org/haskellwiki/Haskell">Haskell</a>, expressions are evaluated lazily by default.  This is quite different from the way most languages behave.  By taking a dramatically different approach to something we take for granted (expression evaluation), you gain the ability to solve problems in different ways.</p>
<p>When you pass arguments to a method in C#, they are all evaluated right away.  Those calculated values are then passed to the method you are calling.  If the first argument to a function is a costly function call itself, the costly call takes place first.  Most languages do it this way, <strong>and that just makes sense</strong>.  Cause and effect seems to demand that arguments be evaluated before they are passed to another method, but Haskell actually turns cause and effect upside down.  When you pass arguments to a Haskell function, they are not evaluated right away.  Instead, they are only evaluated when the called-function actually needs to <em>look</em> at them!  We can simulate this behavior in C# using Func&lt;T&gt;:</p>
<p><div><script src='https://gist.github.com/1531404.js'></script>
<noscript><pre><code></code></pre></noscript></div>
</p>
<p>If we call DoSomething(1, 1+1), the arguments are evaluated eagerly as usual.  If we instead call DoSomethingLazily(() =&gt; 1, () =&gt; 1+1), the expression &#8220;1+1&#8221; will never actually be evaluated; we never needed to <em>look</em> at y!  <strong>Haskell is basically wrapping every argument of every function call in a lambda, and every function receives those lambdas as something like a <code>Func&lt;T&gt;</code></strong>.</p>
<p>One benefit of Haskell&#8217;s laziness-by-default is that it doesn&#8217;t hurt to pass the result of a costly function to DoSomethingLazily, as the value is not always going to be looked at anyway: DoSomethingLazily(() =&gt; 1, () =&gt; SomethingThatTakesTenYearsToCalculate()).  Calling DoSomethingLazy with these arguments will return immediately, with no need to wait ten years.  You can get some surprising performance boosts without really trying in Haskell.  <em>On the other hand</em>, it could be quite difficult to determine where a bottleneck really <em>is</em> when you do run into one.</p>
<p>Another way laziness is useful is that it allows us to efficiently deal with apparently-infinite lists, made possible in C# with the <code>yield</code> keyword.  One of the most common examples of Haskell&#8217;s lazy evaluation is the calculation of the Fibonacci numbers as a combination of two infinite lists:</p>
<p><div><script src='https://gist.github.com/1531426.js'></script>
<noscript><pre><code></code></pre></noscript></div>
</p>
<p>Here, we define the fibs function to take zero arguments, and return a lazily-evaluated list.  Each value in the list will be calculated the moment we try to look at it.  &#8220;tail fibs&#8221; means &#8220;get the infinite Fibonacci series, skipping the first number&#8221;.  &#8220;zipWith (+) a b&#8221; means &#8220;line up two lists (a and b) side by side, producing a new list by adding together each pair of values&#8221;.  Translating all of this to C#, we get:</p>
<p><div><script src='https://gist.github.com/1531485.js'></script>
<noscript><pre><code></code></pre></noscript></div>
</p>
<p>The <code>yield</code> keyword allows us to produce results on demand.  The <code>Enumerable</code> extension methods <code>Zip</code>, <code>Skip</code>, and <code>TakeWhile</code> are all likewise implemented with the <code>yield</code> keyword.  We have effectively glued together a chain of function calls, each of which draws out the next result on demand.  In the main loop, TakeWhile repeatedly tries to pull the next item of the Fibonacci series.  When it does so, Fib() runs until the next time it yields a value, which in turn relies on summing up two <em>other</em> &#8216;instances&#8217; of the Fibonacci sequence.  Since everything&#8217;s lazy, none of this gets stuck in an infinite loop.</p>
<p>Haskell assumes you&#8217;ll want to be lazy all the time.  The benefit is that when you do want laziness, it comes with brevity.  C# on the other hand offers you two tools for laziness when you really <em>want/need</em> it: lambdas and yield.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2011-12-29T00:00:00-06:00" pubdate data-updated="true">Dec 29<span>th</span>, 2011</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/developer-deep-dive/'>Developer Deep Dive</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/learning-to-be-a-great-manager/">
		
			Learning to Be a Great Manager</a>
	</h2>
	<div class="entry-content">
		<p>When I first discovered I would be managing a team, I have to admit it was a bit intimidating. After being led by some mediocre managers and a few really bad managers, I wasn’t sure how I would stack up. Was it even possible to be a good manager? Much less a great manager? It has been a little over a month since starting my team and I wanted to document a few nuggets that were taught to me along the way. In no way is this blog the be-all and end-all of flawless management, but I do think that remembering these few crucial points will keep me from being a bad manager.</p>
<ul>
<li><strong>My position’s most important role now is to get my employees promoted.</strong> My job is no longer just executing my daily tasks; my success depends on their success. I believe that mangers often mistakenly believe that the employee is there to help get them promoted. Having a person under you will not automatically give you a better title, double productivity, or be able to pass off all the unwanted tasks you don’t like as to not deal with them anymore.</li>
</ul>
<p>&nbsp;</p>
<ul>
<li><strong>The sooner you start thinking about your employee’s future the better.</strong> Since it is now clear that my job as a manager is to get employees promoted, I need to be sure to send them down a path that they will be successful at and want. Talking with employees about where they see themselves going and being honest about what will be needed from them in the future is extremely important. This is the best way to be sure that both parties’ expectations are aligned.</li>
</ul>
<p>&nbsp;</p>
<ul>
<li><strong>Create black and white criteria with your employee for reaching that promotion.</strong> If you talk a lot about wanting to get them to the next level but never let them know how to reach it, that can foster bitterness. Make the metrics measurable, reasonable, and obtainable. It is important to make the metrics about behaviors and not results. This will help keep employee from feeling the metrics are out of their control and the promotion is just a carrot at the end of a stick.</li>
</ul>
<p>&nbsp;</p>
<ul>
<li><strong>Provide the tools and remove road blocks for your employee to complete the defined criteria.</strong> When an employee comes to me asking for help and I am in the middle of doing something, sometimes I have to remind myself of this. This is not a coming of age test where you send them out into the desert with a switch blade and a cantina of water. It should be more like backpacking with someone that has done it before. You are still going to have to walk yourself and carry your stuff, but I am there to tell you not to wear deodorant because it attracts bears.</li>
</ul>
<p></br><br />
This is where I am so far.  I have got a lot to learn and lots of mistakes to make, but if you have any words of advice I would greatly appreciate them. Just leave me a comment below.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2011-12-27T00:00:00-06:00" pubdate data-updated="true">Dec 27<span>th</span>, 2011</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/bonus/'>Bonus!</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/get-to-know-a-developer-kurt-schindler/">
		
			Get to Know a Developer: Kurt Schindler</a>
	</h2>
	<div class="entry-content">
		<p>For a long time, Kurt Schindler liked the process of creating software much more than coding it.  However, because of his desire to create better systems and process, he needed to continue learning and growing as a developer.</p>
<p>He had been working on an ASP.NET platform since version 1.1, and when ASP.NET MVC came out, he was immediately interested.  He learned more and more, and began to really enjoy the process of software architecture.  He became an active participant on Stack Overflow, and today still ranks in the 10% of users who have answered questions on the subject of ASP.NET MVC.</p>
<p>After spending a few years at his first post-college job in a small town in Florida, he decided to move to New York City and test out his expertise in a larger community.  He lived there for three and half years, working his way up at a law firm. Eventually Kurt met his wife and they decided it was time to change the scenery a bit.  They wanted a little more relaxation than New York could provide, but still wanted to live in a vibrant city.</p>
<p>He and his wife had traveled to Austin several times, and enjoyed its uniquely friendly features – regarding both lifestyle and scenery.  He knew he wanted to work in a smaller, more creative environment, and Austin’s booming tech industry provided him plenty of opportunity. He found Headspring and immediately fit right in.</p>
<p>As a senior consultant, Kurt focuses on consistency and risk mitigation.  He doesn’t like over engineered software, and values simple, solution-based systems.  In his free time, Kurt can be found reading anything from the Management &amp; Leadership section of the bookstore. His favorite book is <em>Think and Grow Rich </em>by Napoleon Hill.  “This and some of Hill’s works are my go-to’s for inspiration. This particular book reminds me that what the mind can conceive and believe, it can achieve.”</p>
<p>Kurt explained to me that he sticks to a strict, non-fiction only reading diet. He reads to learn, rather than for entertainment. To share his knowledge he continues to participate with online and offline communities, and occasionally blogs (link).</p>
<p>These days he is interested in seeing how HTML5 and the mobile device market plays out. “We’ve got iOS, several Android platforms, and Windows 8 around the corner.  All of them offer a similar end-user experience, but developing software for them is very different. <strong>Will HTML5 end up pushing most apps to the browser, or will people continue to build native apps that have thus far dominated the marketplace?”</strong></p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2011-12-24T00:00:00-06:00" pubdate data-updated="true">Dec 24<span>th</span>, 2011</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/bonus/'>Bonus!</a>, <a class='category' href='/blog/categories/developer-deep-dive/'>Developer Deep Dive</a>, <a class='category' href='/blog/categories/get-to-know-a-headspringer/'>Get To Know a Headspringer</a>, <a class='category' href='/blog/categories/what-the-tech/'>What the tech?</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/polaroid-mutation/">
		
			Polaroid Mutation</a>
	</h2>
	<div class="entry-content">
		<p>Last week, we saw how <a href="http://www.headspring.com/2011/12/clojures-world-view">Clojure&#8217;s approach to syntax</a> can influence the way we think while using other languages.  Today, we&#8217;ll see how Clojure&#8217;s strong opinions about state change can similarly affect the way we think in our language of choice.</p>
<p>Some languages embrace mutation (the changing of variables&#8217; values at runtime).  Python and Ruby classes have publicly-settable <em>everything</em> and although this can get you into trouble it can also lead to some pretty slick tools like Ruby on Rails.  Clojure, on the other hand, fears mutation.</p>
<h2>.NET Strings are Immutable</h2>
<p>.NET&#8217;s <code>System.String</code> is a good example of Clojure&#8217;s approach to collections.  Once you have a string instance, you cannot change its content.  If you want to change the string you are currently referencing, you have to instead create a whole new string (often based on the original), and then point your reference variable at the new one.</p>
<p>Although potentially-wasteful with memory, this approach has saved us from a lot of potential complexity.  When I pass a string around, I know it&#8217;s not going to be altered by some rogue library call.  I can expose a string across threads without fear that it will be in mid-change when I try to look at it.</p>
<p>This immutability can be problematic for large strings that are being frequently &#8216;changed&#8217;, but in practice most of the change we deal with is with small strings where the performance hit is trivial.  In those cases where it <em>really</em> matters, we can use something like <code>StringBuilder</code> to avoid being wasteful with memory and time.</p>
<h2>.NET Lists Mutate</h2>
<p>.NET&#8217;s <code>List&lt;T&gt;</code>, on the other hand, is mutable.  We can think of strings as an immutable collection of <code>char</code> values.  A <code>List&lt;char&gt;</code>, on the other hand, can be <strong>changed</strong> rather than simply <strong>replaced</strong>.  You can add, remove, and alter each item in the collection, <em>and anyone looking at the object will see those changes right away, whether they like it or not</em>.</p>
<h2>Clojure Collections are Immutable</h2>
<p>The built-in data structures in Clojure are immutable.  The two main types here are lists (corresponding with .NET <code>List&lt;T&gt;</code>), and maps (corresponding with <code>Dictionary&lt;K,V&gt;</code>).</p>
<p>In Clojure, when you have a list containing 1000 elements and you wish to append item number 1001, you don&#8217;t change the contents of the original list.  Rather, you get a whole new list containing 1001 elements.  This is exactly what we would do with a .NET string to append a single char.</p>
<p>For maps, adding a new key/value pair likewise starts by copying the original collection and including the new pair.  Anyone who is still holding a reference to the original sees the original contents unaffected.</p>
<p>That may seem wasteful, since the use cases for lists are far more varied than for strings.  Aren&#8217;t we going to feel the pain of this waste too easily in practice for it to be a good idea?</p>
<p>Thankfully, Clojure collections are clever.  Behind the scenes, <a href="http://blog.higher-order.net/2009/02/01/understanding-clojures-persistentvector-implementation">lists and a maps are really trees</a>.  The items are stored in the leaves, and whenever we need to create a &#8220;whole new collection&#8221;, the new collection will share as much of the original tree as it can sneakily get away with.  The new collection is safe to share data with the original tree because, after all, nobody is <em>allowed</em> to change it.</p>
<p>Despite storing items in a tree, Clojure lists can still provide the <em>near</em> constant-time lookups we expect from lists.  These trees are exceptionally <em>wide</em>, but not very <em>deep</em>.  Even a fully-populated tree, with more items in it than you&#8217;d ever care to work with, is only about 6 levels deep.  <em>Slower than a .NET array lookup, for sure, but still O(1)</em>.  Well, O(1-<em>ish</em>).</p>
<h2>Course-Grained Mutation</h2>
<p>Clojure does allow some mutation.  It would be difficult to use a language if it had <em>no</em> notion of assignment statements.  A small number of special reference types are available.  These are objects which can point at some other object, and this pointer can be requested to change to point to some new object.  These types are each opinionated about how this re-pointing can act with respect to threads, but the basic idea is that they allow for course-grained mutation.</p>
<p>Let&#8217;s say I have one of these reference objects currently pointing at a map containing many name/value pairs, and that I&#8217;m using <a href="http://clojure.org/refs">a reference object that ensures transactional re-pointing in the presence of multiple threads</a>.  If I have to perform a significant change to the collection, <strong>I&#8217;d like to be able to take my time to calculate the new version of the collection, without having to lock the original</strong>, so the other threads can keep on trucking along.  Once I&#8217;ve calculated my new collection, sharing a subtree behind the scenes with the original, I&#8217;ll ask my reference object to re-point to the new collection as an atomic operation.  Now, all the other threads will see the new state.</p>
<p><em>C# represents state change by physically altering an object in-place.  Clojure represents state change by tracking a series of object snapshots.</em>  <strong>The river isn&#8217;t flowing by you in front of your eyes.  Instead, you have a stack of river-photos representing the key moments of its flow.</strong></p>
<h2>Minimizing Mutation in Your Language of Choice</h2>
<p>Clojure&#8217;s weird, and weird is good.</p>
<p>Some of the worst spaghetti code I&#8217;ve ever dealt with was hard to untangle <strong>precisely</strong> because of the fine-grained state change involved.  The first thing I do when faced with a tricky mess like this is to start identifying those parts of the code that are already lacking mutation, pulling them out into <a href="http://en.wikipedia.org/wiki/Pure_function">pure functions</a>.  Next, I look for ways to rephrase the existing mutation-heavy bits with equivalent pure alternatives.  <strong>Often, the percent of your codebase that actually needs to deal with mutating state is remarkably small.</strong></p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2011-12-23T00:00:00-06:00" pubdate data-updated="true">Dec 23<span>rd</span>, 2011</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/developer-deep-dive/'>Developer Deep Dive</a>


</div>
	
</div>
</article>

<nav id="pagenavi">
    
        <a href="/blog/page/43/" class="prev">Prev</a>
    
    
        <a href="/blog/page/45/" class="next">Next</a>
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav></div>
	<footer id="footer" class="inner">Copyright &copy; 2013

    Headspring Labs

</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->






</body>
</html>