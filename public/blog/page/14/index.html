
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>Headspring Labs</title>
	<meta name="author" content="Headspring Labs">

	
	<meta name="description" content="Imagine for a moment that you are a member of the government in colonial India during the period of British rule. You&#8217;re concerned about the &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="Headspring Labs" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script async="true" src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	
</head>


<body>
	<header id="header" class="inner"><h1><a href="/">Headspring Labs</a></h1>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
	<li><a href="/open-source">Open Source</a></li>
	<li><a href="/team">The Team</a></li>
	<li><a href="/about-us">About Us</a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="http://google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:headspringlabs.com">
			</form>
		</div>
	</div>
</nav>
<nav id="sub-nav" class="alignright">
	<div class="social">
		
		
		
		<a class="twitter" href="http://twitter.com/HeadspringLabs" title="Twitter">Twitter</a>
		
		
		<a class="github" href="https://github.com/HeadspringLabs" title="GitHub">GitHub</a>
		
	    
		
		<a class="coderwall" href="https://coderwall.com/team/headspring" title="Coderwall">Coderwall</a>
		
		
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
	    
	</div>
	<form class="search" action="http://google.com/search" method="get">
		<input class="alignright" type="text" name="q" results="0">
		<input type="hidden" name="q" value="site:headspringlabs.com">
	</form>
</nav>
<nav id="main-nav"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
	<li><a href="/open-source">Open Source</a></li>
	<li><a href="/team">The Team</a></li>
	<li><a href="/about-us">About Us</a></li>
</ul>
</nav>

</header>
	
		
<div id="banner" class="inner">
	<div class="container">
		<ul class="feed"></ul>
	</div>
	<small><a href="http://twitter.com/HeadspringLabs">HeadspringLabs</a> @ <a href="http://twitter.com">Twitter</a></small>
	<div class="loading">Loading...</div>
</div>
<script src="/javascripts/twitter.js"></script>
<script type="text/javascript">
	(function($){
		$('#banner').getTwitterFeed('HeadspringLabs', 5, );
	})(jQuery);
</script>

	
	<div id="content" class="inner">


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/the-cobra-effect/">
		
			The Cobra Effect</a>
	</h2>
	<div class="entry-content">
		<p>Imagine for a moment that you are a member of the government in colonial India during the period of British rule.  You&#8217;re concerned about the population of venomous cobras, so you attempt to impose a solution.  You offer a reward to anyone who brings you a dead cobra.  After a while, though, you start to get suspicious of some of the cobra hunters.  They seem to be bringing in far more cobras that any single person is likely to encounter, let alone trap and kill.  You discover that some individuals have begun raising cobras in order to turn a profit!  Clearly, your plan isn&#8217;t working, so you stop offering the bounty.  Countless cobra farmers&#8217; snakes become worthless, so they are released into the wild, increasing the population of cobras.</p>
<p>You meant well, but your attempt to impose a solution to the problem actually made things worse.</p>
<p>The <a href="http://en.wikipedia.org/wiki/Cobra_effect">Cobra Effect</a> is similar to the more frequently-referenced <a href="http://en.wikipedia.org/wiki/Murphy's_law">Murphy&#8217;s Law</a>.  Murphy&#8217;s a bit of a pessimist: if something can go wrong, it will, as if the universe is out to get you.  The Cobra Effect, on the other hand, has more to do with human nature: you see a problem and attempt to impose a solution on a group of people, and their natural reaction to your solution ends up making the original problem worse.</p>
<p>Cobra Effect problems have 4 parts: a) recognizing a problem, b) imposing a solution on a group of people, c) people react naturally <em>to the solution</em>, and d) in turn that reaction makes the problem worse.  Years ago, I experienced these 4 stages on a software project.</p>
<h2>Farming Venomous Comments</h2>
<p><strong>The problem:</strong> Reading other people&#8217;s code can be frustrating when it doesn&#8217;t communicate enough of the intent.  You may not feel tempted to add lots of comments to your own code, but sometimes when looking at something ugly or unfamiliar, you find yourself wishing the other developers <em>were</em> writing lots of informative comments.  The more experienced developers on the team naturally fear the ocean of undocumented code that the rest of the team is sure to write in the coming months.</p>
<p><strong>Imposing a solution:</strong> We need to ensure everyone is writing documented code, therefore commits will not pass code review unless each method has complete <a href="http://msdn.microsoft.com/en-us/library/aa288481(v=vs.71).aspx">XML documentation comments</a>.  Each method will tell you what it is, what each of its arguments is, and what the returned value is.  The user of your code will see this information as they type via IntelliSense.</p>
<p><strong>People react naturally to the solution:</strong> It <em>hurts</em> to write those XML comments.  They are verbose, they are usually redundant, they are time consuming, and they are usually redundant.  If your product is a library to be used by other developers, you owe it to them to document the non-obvious details of your public interface, but beyond that writing these comments is absolutely painful.  Enter <a href="http://visualstudiogallery.msdn.microsoft.com/46A20578-F0D5-4B1E-B55D-F001A6345748">GhostDoc</a>, a Visual Studio extension that writes these comments for you by inspecting the names and types of your methods and parameters.  You start with an undocumented method like so:</p>
<p><div><script src='https://gist.github.com/4159059.js'></script>
<noscript><pre><code></code></pre></noscript></div>
</p>
<p>You place your cursor on the first line, hit a keyboard shortcut, and it automatically turns into this:</p>
<p><div><script src='https://gist.github.com/4159061.js'></script>
<noscript><pre><code></code></pre></noscript></div>
</p>
<p>Code Review Accomplished.</p>
<p><strong>That reaction makes the problem worse:</strong> GhostDoc was <em>encouraged</em> because meeting the code review requirement <em>hurt</em> so much.  Every time I used it, a sarcastic little voice in the back of my head said &#8220;Oh, is <em>that</em> what a customerId is?&#8221; or &#8220;Oh, is <em>that</em> what that method does?&#8221;  That voice started getting louder and I soon started to block out all XML comments whenever I read through anybody&#8217;s code.  It wasn&#8217;t even a conscious decision: my eyes started scanning right by the comments as if they were whitespace.  <em>When I actually needed one of these comments to communicate something real about my intent, nobody would ever notice it; it was a an intent-needle in an angle-bracket-haystack.</em></p>
<p>Compare that last sentence to the original problem: &#8220;Reading other people&#8217;s code can be frustrating when it doesn&#8217;t communicate enough of the intent.&#8221;  The imposed solution made that problem <em>worse</em> by making it even harder to see important information about intent when the need actually arose, and it made it harder to see the intent that was already present in the code itself because you could only fit a few real lines of code on the screen at a time.  </p>
<h2>People Smells</h2>
<p>We talk about &#8220;code smells&#8221;, simple things we see in a snippet of code that give us a negative gut reaction, suggesting a deeper problem.  There are also &#8220;people smells&#8221;, where a solution to a human problem should give us a similar negative gut reaction.  With the notable exception of dubstep fans, people naturally try to avoid pain.  We seek out the path of least resistence.  When the solution to a human problem hurts more than the problem, you may get exactly what you asked for.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-11-29T00:00:00-06:00" pubdate data-updated="true">Nov 29<span>th</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/developer-deep-dive/'>Developer Deep Dive</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/learn-mercurial-basics-with-logan-turner/">
		
			Learn Mercurial Basics With Logan Turner</a>
	</h2>
	<div class="entry-content">
		<p>In this cast, Logan Turner and Jeffrey Palermo discuss Mercurial basics.  Logan Turner is a Headspring intern and a student at LeTourneau University.  Logan has recently learned Mercurial, and he has helped another new employee come up to speed with this distributed version control system.</p>
<p>You might be interested in these Mercurial resources:</p>
<ul>
<li><a href="http://mercurial.selenic.com/">Mercurial/TortoiseHg</a></li>
<li><a href="http://hgbook.red-bean.com/read/">Free Mercurial ebook by Bryan O’Sullivan</a></li>
</ul>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-11-09T00:00:00-06:00" pubdate data-updated="true">Nov 9<span>th</span>, 2012</time></div>
	<div class="tags">

</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/headspring-is-ready-to-rock/">
		
			Headspring Is Ready to Rock!</a>
	</h2>
	<div class="entry-content">
		<p>What event sells out as fast as a Justin Beiber concert? <a href="http://codemash.org/" target="_blank">CodeMash</a>! Last year’s CodeMash conference sold out in 22 minutes. Bieber actually sold his entire North American tour in that time, but why mince words?</p>
<p>We are excited to get together with developers from across the country for <a href="http://codemash.org/" target="_blank">CodeMash 2013</a> being held January 8 – 11, 2013 in Sandusky, Ohio. The conference is filled with information about updated practices, methodologies, and technology trends in a variety of platforms and development languages. There are terrific keynote speakers, workshops, time to geek out with fellow attendees and talk “code”, and possibly take a dip in Ohio’s largest indoor waterpark.</p>
<p>Our team members Jimmy Bogard and Sharon Cichelli will be leading sessions at CodeMash.  Sharon will present “Hello, Arduino: Write Code that Interacts with the Real World” and Jimmy will be involved in the PreCompiler workshop.</p>
<p style="text-align: center;"><a href="http://www.headspring.com/wp-content/uploads/2012/11/img_1647.jpg"><img class="aligncenter size-medium wp-image-5847" title="img_1647" src="http://www.headspring.com/wp-content/uploads/2012/11/img_1647-229x300.jpg" alt="" width="229" height="300" /></a></p>
<p>Jimmy is also on his own world tour. He is speaking at various international locations over the next three months beginning on December 4, 2012 in London, England where he’ll talk about “Real World Polyglot Persistence”.  Check out other scheduled events below:</p>
<ul>
<li><a href="http://warmcrocconf.net/" target="_blank">Warm Crocodile Developer Conference</a>, January 16-17, 2013 in Copenhagen, Denmark</li>
<li><a href="http://confoo.ca/en" target="_blank">ConFoo Conference</a>, February 25-March 1, 2013 in Montreal, Canada.</li>
</ul>
<p>&nbsp;</p>
<p>Attending any of these conferences? We look forward to meeting you!</p>
<p>Have an event where you’d like us to present? Let’s talk!</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-11-09T00:00:00-06:00" pubdate data-updated="true">Nov 9<span>th</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/bonus/'>Bonus!</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/take-a-dip-to-get-dry/">
		
			Take a DIP to Get DRY</a>
	</h2>
	<div class="entry-content">
		<p>The DRY principle is pretty simple.  Don&#8217;t Repeat Yourself.  When you find yourself reaching for the copy/paste commands, you&#8217;re probably creating some technical debt.  If you copy/paste a method or class from one part of your application to another with the intent to make a small change in the copy, there&#8217;s a very big chance that those two implementations will begin to drift.  Maybe a bug needs to be fixed in both, but the developer performing the fix doesn&#8217;t know that the copy took place: they&#8217;ll fix some occurrences of the bug but allow others to continue.  Even when you know about both copies, you may find yourself doing double the work each time you need to make a change to one of them.  It&#8217;s costly in development time, brain cycles, and QA time.</p>
<p>Strangely, I find that when the technical debt brought on by a DRY violation is <em>particularly</em> bad, the solution involves deliberately causing yet more duplication in the short term.  Sometimes, you need to take a DIP to get DRY.</p>
<h2>A DRY Violation in the Wild</h2>
<p>I was faced with a large DRY violation this week.  Earlier in the history of this project, a class was written in the UI layer to perform some relatively complex validation to ensure the user properly filled out a set of options.  The validation rules weren&#8217;t rocket science, but they also weren&#8217;t trivial rules like &#8216;Field A is required&#8217; or &#8216;Field B cannot exceed 20 characters&#8217;.  All told, it was about 150 lines of logic split out over about 10 methods.  Eventually, the same rules needed to be applied in a related EXE that has no UI, and at that point in time the logic was copied, pasted into an assembly that the other EXE had access to, and tweaked slightly to fit in its new home.  Naturally, the problem got worse since then, as both versions drifted away from each other.</p>
<p>Once this problem was discovered, I was tasked with resolving the duplication by phasing out the deprecated UI implementation.  The new UI would defer to the newer implementation, so both EXEs would share the same code.  Because of the drift, it wasn&#8217;t clear whether doing this the quick-and-dirty way would be remotely safe: there was a good chance the new implementation was missing important rules enforced in the UI version.  Viewing a diff between the two files wasn&#8217;t helpful, as so much had been tweaked, renamed, and refactored on both sides.  You could tell they were effectively doing the same thing, but the details were too difficult to discern all at once.</p>
<h2>Duplicate It Purposely</h2>
<p>When faced with this kind of DRY violation, my first step is to make the situation more clear by <em>deliberately introducing even more blatant duplication</em>.  I Duplicate It Purposely (DIP).  I start with a diff between the two files, and identify the low-hanging fruit: code that is only superficially different due to things like variable and method renames.  I start by making superficial changes to the deprecated code, making it look more and more like the version I want to keep around.  The workflow might look like the following:</p>
<blockquote>
<ol>
<li>View a diff.  Rename variable.  Rename variable.  Rename method.  Commit.</li>
<li>View a diff.  Rename method.  Extract method.  Reorder members. Commit.</li>
<li>View a diff.  Inline method.  Extract variable.  Commit.</li>
<li>View a diff&#8230;</li>
</ol>
</blockquote>
<p>After these quick, low-risk, automatable refactorings are applied to the deprecated code, the diff becomes more illuminating.  You may finally see that the two implementations truly are doing the same thing, in which case it&#8217;s time to drop the original in favor of the second.  In my case, on the other hand, I got to a point where it was clear there were a few places where the logic actually did differ.  In fact, the differences highlighted a real bug in the version I had intended to <em>keep</em>, and I never would have realized that just comparing the two original files to each other.  Armed with a useful diff, I was able to alter the newer code to cover the missing scenarios.</p>
<p>At that point, I had two code files that were almost character-for-character the same.  The class names were different, but that was about it.  I could now safely drop the original and point the UI at the newer, corrected, shared version.</p>
<p>Even when fixing a small-scale DRY violation, such as refactoring two suspiciously-similar methods within a single class, I find myself doing this.  I start by making the duplication painfullly obvious by making them look as much like each other as possible.  That extreme duplication highlights the actual differences, giving useful hints as to how to best rephrase both implementations.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-11-05T00:00:00-06:00" pubdate data-updated="true">Nov 5<span>th</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/developer-deep-dive/'>Developer Deep Dive</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/migrating-a-windows-install-to-a-new-macbook/">
		
			Migrating a Windows Install to a New Macbook</a>
	</h2>
	<div class="entry-content">
		<p>Recently here at Headspring my workstation got upgraded from a PC laptop to a Macbook Pro. While I was excited about the new hardware and taking the plunge into Mac OS X (that’s the Roman numeral ten, not the 24th letter of the alphabet), I still needed to be able to run Windows and Visual Studio. This post summarizes the various options I explored, and my final setup.</p>
<h3>Multiboot or Virtual Machine?</h3>
<p>Multibooting is using a software tool that hooks your computer’s normal power on sequence and provides you a way to choose what operating system you want to load.</p>
<p>Microsoft has supported multibooting since Windows XP as way to install new versions of Windows while still keeping older versions for your legacy software that won’t work on the newer Windows version. It’s also been possible to multiboot Linux and Windows for a long time.</p>
<p>A virtual machine is software that pretends to be a computer, and runs another operating system inside of it. You can use a virtual machine to run an instance of Windows 98 while booted into Windows 7 for example.</p>
<p>The advantage to multibooting is performance - running an operating system inside a virtual machine causes it to run more slowly than it would if it was natively booted - but the disadvantage is you can only work within the one operating system you booted into.</p>
<p>Virtual machines can perform slower, but allow you to run both operating systems at the same time.</p>
<p>I’ve done multibooting with multiple versions of Windows and Linux in the past. It works well, but its amazing how much of a psychological barrier having to boot into an alternate OS to do something gets created. “I got an email response&#8230;I need to go update that spreadsheet&#8230;rats, it’s in the other OS&#8230;I really don’t want to close everything and reboot, I’ll do it later&#8230;”.</p>
<p>The new workstation is top of the line: Intel I7, 16GB memory, solid state hard disk. It would be more than capable of running Windows in a virtual machine without much overhead. Choosing a virtual machine over multibooting was a pretty easy choice.</p>
<p>There were several candidates for the virtual machine software - VMWare Fusion, Oracle VirtualBox, and Parallels Desktop. VirtualBox was ruled out pretty quickly as underperforming. Parallels and Fusion are fairly similar. We ended up going with Parallels.</p>
<h3>How I Migrated My Old Windows Install to Parallels</h3>
<p>I didn’t want to have to start over with a brand new install of Windows, my old setup was perfectly fine. Fortunately Parallels supports migrating Windows from your old PC to your new Mac. It took three tries before I figured out the best way to do it, so I wanted to share and hopefully save someone else the learning experience. It wasn’t painful, but did consume a fair amount of wasted setup time.</p>
<p>There are several options for doing the migration: using a special USB cable you can buy from Parallels, over the network, or copying to an external hard drive.</p>
<p>We didn’t buy the cable, so attempt number one was over the wireless network. Big mistake. It took over twenty hours to transfer, and the virtual machine wouldn’t boot afterwards. Somehow it got corrupted during the transfer.</p>
<p>Attempt number two was copying to external storage. This took about as long, and was going to take another twenty hours to pull off the drive to the Macbook.</p>
<p>Fortunately at this point a coworker intervened and told me using a network crossover would be much quicker.\</p>
<h3>What You’ll Need</h3>
<p>The new Macbooks don’t have a built in ethernet port, so you’ll need a Thunderbolt to NIC adapter for this. You’ll also need an ethernet crossover cable - this is a special cable that crosses the wires from plug to the other, allowing you to connect two computers directly as if they were both on a network. Because it’s a direct connection there’s virtually no transfer overhead at all.</p>
<h3>Performing the Transfer</h3>
<p>On your Windows machine you need to go download and install Parallels Transporter. Start Parallels Transporter. The screen looks like this:</p>
<p><img class="alignnone size-medium wp-image-5836" title="Parallels Transporter for Windows" src="http://www.headspring.com/wp-content/uploads/2012/11/parallelsTransporterWindows-300x177.png" alt="Screenshot of Parallels Transporter for Windows with three options: usb cable, network, external drive" width="300" height="177" /></p>
<p>&nbsp;</p>
<p>On the Mac download Parallels 8 and start it. Click File..Migrate. This will launch the migration wizard.</p>
<p><a href="http://www.headspring.com/wp-content/uploads/2012/11/001-wizard.png"><img class="alignnone size-medium wp-image-5834" title="Parallels migration on Mac" src="http://www.headspring.com/wp-content/uploads/2012/11/001-wizard-300x252.png" alt="Screenshot of Parallels migration on Macbook" width="300" height="252" /></a></p>
<p>If you haven’t already done so, connect the crossover between the two computers. Choose Network. Choose IP Address instead. Select your Windows computer from the list. Alternately you can use ipconfig on your Windows machine to get your IP address and specify it manually if needed.</p>
<p><strong> When asked how to configure the image, choose Like a PC.</strong> You can customize the settings later, but if you choose Like a Mac, Parallels will automatically copy your Documents folder into your Home directory in Mac OS, leaving you with two copies of everything.</p>
<p>That’s it! Using a crossover took about two hours - much faster than using the wireless network or copying it to external storage. When the transfer was complete, the virtual machine started without any issues (well, almost - I had to reactivate Windows) and I didn’t have to setup (and endlessly tweak) a new install.</p>
<h3>Wrapping Up</h3>
<p>I’m still getting used to my new Mac. There’s a lot that’s different from Windows and I’m now fighting twenty years of muscle memory (I started using Windows on version 3.11 in 1993). I plan on writing a follow up post on adjusting from Windows to Mac OS sometime in the future.</p>
<p>The transition pain is more than worth it - there are a lot of advantages to using a Mac with Windows. The hardware is rock solid, fast, and very light (it’s less than half the weight of my old workstation). The Retina display is gorgeous and highly readable. Also of note is the ability to now develop for multiple platforms - I can still use Visual Studio for .NET development, but also write apps for IOS and MacOS as well. Support for platforms like Ruby and node.js are also better on Mac than Windows.</p>
<p>Are you running Windows on a Mac? Are you using Parallels, or something else? Share your experiences or current setup in the comments!</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-11-02T00:00:00-05:00" pubdate data-updated="true">Nov 2<span>nd</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/blog/'>Blog</a>


</div>
	
</div>
</article>

<nav id="pagenavi">
    
        <a href="/blog/page/13/" class="prev">Prev</a>
    
    
        <a href="/blog/page/15/" class="next">Next</a>
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav></div>
	<footer id="footer" class="inner">Copyright &copy; 2013

    Headspring Labs

</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->






</body>
</html>