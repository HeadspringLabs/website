
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Ain't Any Is All Ain't - Headspring Labs</title>
  <meta name="author" content="Headspring Labs">

  
  <meta name="description" content="Today, ReSharper made the same suspicious suggestion to both my coworker and me. We both had the task of checking a potentially-large collection for &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://headspringlabs.com/blog/aint-any-is-all-aint">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Headspring Labs" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Headspring Labs</a></h1>
  
    <h2>Experiments by Headspringers!</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:headspringlabs.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Ain't Any Is All Ain't</h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-10-17T00:00:00-05:00" pubdate data-updated="true">Oct 17<span>th</span>, 2012</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>Today, ReSharper made the same suspicious suggestion to both my coworker and me.  We both had the task of checking a potentially-large collection for items that fail to pass a test, and we both phrased these like so: &#8220;if not any of the items fail, continue…&#8221;.  In each case, ReSharper wanted to rephrase our statements, and it seemed like following the suggestion would be a change for the worse!<!--more--> </p>
<h2>An Offensive Suggestion</h2>
<p>Here&#8217;s what each of our situations boiled down to:</p>
<p><div><script src='https://gist.github.com/3903096.js'></script>
<noscript><pre><code></code></pre></noscript></div>
</p>
<p>We leaned on the Any() extension method, with the intention of &#8220;short circuiting&#8221; the underlying loop.  Any() starts at the front of the list, and tests each item until one of them passes the condition in the lambda expression.  Once we hit that item, there is no need to continue processing items, so Any() returns early.  This is similar to the way that the || operator works: in the expression (a() || b() || c()), we only bother to call method c() when a() and b() are both false.</p>
<p>So, it seems the ReSharper suggestion is only <em>technically</em> the same.  You&#8217;ll get the same answer, but surely testing &#8220;All&#8221; the items is potentially wasteful in the event that the collection is large.</p>
<p>What a terrible suggestion!  So terrible, I wanted to write an angry letter to the editor of my local newspaper: &#8220;…these nogoodniks, these ne&#8217;er-do-wells over at <a href="http://www.jetbrains.com/resharper/">JetBrains</a> need to <strong>turn that racket down and get off my lawn!</strong>&#8221;</p>
<p>I&#8217;m glad I didn&#8217;t, though, because I was completely wrong.</p>
<h2>Oops</h2>
<p>While searching for a code sample demonstrating this ReSharper suggestion, I found the truth: <a href="http://stackoverflow.com/questions/9027530/linq-not-any-vs-all-dont">Not Any vs All Don&#8217;t</a>.</p>
<p>The top answer reveals the actual implementation of both Any() and All().  Naturally, <em>both</em> Any() and All() are implemented with the &#8220;short circuit&#8221; logic mentioned above.  Any() behaves like (a() || b() || c()), <strong>and All() behaves like (a() && b() && c())</strong>.  Both have the opportunity to stop looking at items as soon as they have enough information to have the correct final answer.</p>
<p>My mistake was to read too much into the use of the word &#8220;All&#8221; without actually thinking about how it could be best implemented.  Yet again, ReSharper has proven itself to be clearly smarter than me.</p>
</div>


  <footer>
    <p class="meta">
      
  



      








  


<time datetime="2012-10-17T00:00:00-05:00" pubdate data-updated="true">Oct 17<span>th</span>, 2012</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/developer-deep-dive/'>Developer Deep Dive</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://headspringlabs.com/blog/aint-any-is-all-aint/" data-via="HeadspringLabs" data-counturl="http://headspringlabs.com/blog/aint-any-is-all-aint/" >Tweet</a>
  
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/jack-welch-mbaa-new-graduate/" title="Previous Post: Jack Welch MBA–a new graduate">&laquo; Jack Welch MBA–a new graduate</a>
      
      
        <a class="basic-alignment right" href="/blog/the-failed-record-of-the-software-industrywhy-software-people-dont-get-it/" title="Next Post: The failed record of the software industry–why software people don’t get it">The failed record of the software industry–why software people don’t get it &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/dry-test-inheritance/">DRY Test Inheritance</a>
      </li>
    
      <li class="post">
        <a href="/blog/the-sincerest-form-of-flattery/">The Sincerest Form of Flattery</a>
      </li>
    
      <li class="post">
        <a href="/blog/fixies-life-bicycle/">Fixie's Life Bicycle</a>
      </li>
    
      <li class="post">
        <a href="/blog/test-discovery/">Test Discovery</a>
      </li>
    
      <li class="post">
        <a href="/blog/enabling-change/">Enabling Change</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/HeadspringLabs">@HeadspringLabs</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'HeadspringLabs',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Headspring Labs -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>





  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
