---
layout: post
title: True Confessions, Public Shaming, and Test-Driven Development
tags:
- Bonus!
- continuous improvement
- Developer Deep Dive
- developer productivity
- test-driven development
- unit testing
status: publish
type: post
published: true
meta:
  _edit_last: '4'
  _aioseop_keywords: test-driven development, debugging, unit tests
  _aioseop_description: Save time by writing unit tests before fixing bugs instead
    of after; be a more efficient developer, improve productivity, use unit tests
    to diagnose and debug.
  _aioseop_title: True Confessions, Public Shaming, and Test-Driven Development
  dsq_thread_id: '846789467'
---
<p>Okay, I admit it. Sometimes I write unit tests second instead of first. I also bite my nails and rest my elbows on the dinner table. But when I've got a bug to fix, and I've already found the offending line, I can hardly resist the urge to just... just... <em>change</em> it. I'll follow up with unit tests afterwards, promise.</p>
<p>I admit this to you because admitting my wrongs is a step towards rehabilitation. I admit this to save you pain. Learn from my example. Test-second is so much less efficient than test-first. Consider the following workflow:</p>
<ol>
<li>Reproduce, identify, debug the issue.</li>
<li>Fix the code.</li>
<li>Compile and try it out.</li>
<li>Write a test that proves I fixed it.</li>
<li>Compile and run the test.</li>
<li>Change the code back to make sure my test really proves what it is trying to prove.</li>
<li>Compile and see the test fail.</li>
<li>Re-fix the code.</li>
<li>Compile and see the test pass.</li>
</ol>
<p>&nbsp;</p>
<p>I humble myself before you. How much time am I wasting there? It's embarrassing.<!--more--></p>
<p>There's also a subtle point in step 1. What if I could use unit tests instead of the debugger to find the issue? That will be faster, too.</p>
<p>We can do better:</p>
<ol>
<li>Reproduce the issue and formulate a theory.</li>
<li>Write a test that exercises the theory.</li>
<li>Compile and see the test fail, corroborating the theory.</li>
<li>Fix the code.</li>
<li>Compile and see the test pass, validating the theory.</li>
</ol>
<p>&nbsp;</p>
<p>Perhaps you can relate. Perhaps you even bite your nails, too. I won't judge. Flog me or join me, the comments are open: Confess your bad habits (um, your <em>unit-testing</em> bad habits, please), and commit yourself to improvement. I challenge you to improve your efficiency and write your unit tests first, even—especially—for the little bug fixes.</p>
